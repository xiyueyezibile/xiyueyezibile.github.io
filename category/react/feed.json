{
    "version": "https://jsonfeed.org/version/1",
    "title": "汐月也自闭了的个人博客 • All posts by \"react\" category",
    "description": "这个需求写不了",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2023/07/09/%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BAreact%E9%A1%B9%E7%9B%AE/",
            "url": "http://example.com/2023/07/09/%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BAreact%E9%A1%B9%E7%9B%AE/",
            "title": "从0搭建react项目",
            "date_published": "2023-07-09T15:13:57.343Z",
            "content_html": "<h2 id=\"create-react-app-搭建react项目\"><a class=\"markdownIt-Anchor\" href=\"#create-react-app-搭建react项目\">#</a> create-react-app 搭建 react 项目</h2>\n<p>使用 <code>pnpm install -g create-react-app</code>  命令全局安装 react 脚手架。</p>\n<p><code>npx create-react-app my-app --template typescript</code>  创建基于 TypeScript 的 react 项目。</p>\n<p>注：typescript 版好像默认会下载 tailwindcss，如果用的习惯就没必要配置 less 了</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// tsconfig.json</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;baseUrl&quot;</span>: <span class=\"string\">&quot;./&quot;</span>, <span class=\"comment\">// 路径配置</span></span><br><span class=\"line\">    <span class=\"string\">&quot;paths&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;@&quot;</span>: [<span class=\"string\">&quot;src&quot;</span>],</span><br><span class=\"line\">      <span class=\"string\">&quot;@/*&quot;</span>: [<span class=\"string\">&quot;src/*&quot;</span>]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&quot;target&quot;</span>: <span class=\"string\">&quot;ES2020&quot;</span>, <span class=\"comment\">// 指定 ECMAScript 版本</span></span><br><span class=\"line\">    <span class=\"string\">&quot;lib&quot;</span>: [<span class=\"string\">&quot;ES2020&quot;</span>, <span class=\"string\">&quot;DOM&quot;</span>, <span class=\"string\">&quot;DOM.Iterable&quot;</span>], <span class=\"comment\">// 要包含在编译中的依赖库文件列表</span></span><br><span class=\"line\">    <span class=\"string\">&quot;allowJs&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 允许编译 JavaScript 文件</span></span><br><span class=\"line\">    <span class=\"string\">&quot;skipLibCheck&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 跳过所有声明文件的类型检查</span></span><br><span class=\"line\">    <span class=\"string\">&quot;esModuleInterop&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 禁用命名空间引用 (import * as fs from &quot;fs&quot;) 启用 CJS/AMD/UMD 风格引用 (import fs from &quot;fs&quot;)</span></span><br><span class=\"line\">    <span class=\"string\">&quot;allowSyntheticDefaultImports&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 允许从没有默认导出的模块进行默认导入</span></span><br><span class=\"line\">    <span class=\"string\">&quot;strict&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 启用所有严格类型检查选项</span></span><br><span class=\"line\">    <span class=\"string\">&quot;forceConsistentCasingInFileNames&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">//\t禁止对同一个文件的不一致的引用。</span></span><br><span class=\"line\">    <span class=\"string\">&quot;noFallthroughCasesInSwitch&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 报告switch语句的fallthrough错误。（即，不允许switch的case语句贯穿）</span></span><br><span class=\"line\">    <span class=\"string\">&quot;module&quot;</span>: <span class=\"string\">&quot;esnext&quot;</span>, <span class=\"comment\">// 指定模块代码生成</span></span><br><span class=\"line\">    <span class=\"string\">&quot;moduleResolution&quot;</span>: <span class=\"string\">&quot;node&quot;</span>, <span class=\"comment\">// 使用 Node.js 风格解析模块</span></span><br><span class=\"line\">    <span class=\"string\">&quot;resolveJsonModule&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 允许使用 .json 扩展名导入的模块</span></span><br><span class=\"line\">    <span class=\"string\">&quot;isolatedModules&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 将每个文件作为单独的模块</span></span><br><span class=\"line\">    <span class=\"string\">&quot;noEmit&quot;</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 不输出(意思是不编译代码，只执行类型检查)</span></span><br><span class=\"line\">    <span class=\"string\">&quot;jsx&quot;</span>: <span class=\"string\">&quot;react-jsx&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;noUnusedLocals&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 报告未使用的本地变量的错误</span></span><br><span class=\"line\">    <span class=\"string\">&quot;noUnusedParameters&quot;</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 报告未使用参数的错误</span></span><br><span class=\"line\">    <span class=\"string\">&quot;experimentalDecorators&quot;</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 启用对ES装饰器的实验性支持</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;include&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;src&quot;</span> <span class=\"comment\">// TypeScript文件应该进行类型检查</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"string\">&quot;exclude&quot;</span>: [<span class=\"string\">&quot;node_modules&quot;</span>, <span class=\"string\">&quot;build&quot;</span>] <span class=\"comment\">// 不进行类型检查的文件</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"prettier\"><a class=\"markdownIt-Anchor\" href=\"#prettier\">#</a> prettier</h3>\n<p>pnpm i -D prettier 安装 prettier，代码格式化检查</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .prettierignore</span></span><br><span class=\"line\">node_modules</span><br><span class=\"line\">dist</span><br><span class=\"line\">.<span class=\"property\">prettierignore</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .prettierrc.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">printWidth</span>: <span class=\"number\">120</span>, <span class=\"comment\">// 指定编译器换行的行长</span></span><br><span class=\"line\">  <span class=\"attr\">tabWidth</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 指定每个缩进空格数</span></span><br><span class=\"line\">  <span class=\"attr\">semi</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 在语句的末尾输入分号</span></span><br><span class=\"line\">  <span class=\"attr\">singleQuote</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 使用单引号而不是双引号</span></span><br><span class=\"line\">  <span class=\"attr\">trailingComma</span>: <span class=\"string\">&#x27;none&#x27;</span>, <span class=\"comment\">// 在多行逗号分隔的句法结构中尽可能输入尾随逗号</span></span><br><span class=\"line\">  <span class=\"attr\">bracketSpacing</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 在对象字面量中的括号之间输入空格</span></span><br><span class=\"line\">  <span class=\"attr\">jsxBracketSameLine</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 将多行 JSX 元素的 &gt; 放在最后一行的末尾，而不是单独放在下一行</span></span><br><span class=\"line\">  <span class=\"attr\">arrowParens</span>: <span class=\"string\">&#x27;always&#x27;</span>, <span class=\"comment\">// 在唯一的箭头函数参数周围包含括号</span></span><br><span class=\"line\">  <span class=\"attr\">useTabs</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 使用制表符而不是空格缩进行</span></span><br><span class=\"line\">  <span class=\"attr\">ignorePath</span>: <span class=\"string\">&#x27;.prettierignore&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>pnpm install react-router-dom@6 使用 react-router v6 配置路由</p>\n<h3 id=\"eslint\"><a class=\"markdownIt-Anchor\" href=\"#eslint\">#</a> ESLint</h3>\n<p><code>ESLint</code>  是在 ECMAScript/JavaScript 代码中识别和报告模式匹配的工具，它的目标是保证代码的一致性和避免错误 —— 就是一个代码检查工具。</p>\n<p>介绍下常用的插件及其用处：</p>\n<ul>\n<li><strong>@typescript-eslint/parser</strong>：代替 eslint 默认的解析器 Espree 对 TypeScript 的进行解析</li>\n<li><strong>eslint-plugin-react</strong>：检测和规范 React 代码的书写的插件</li>\n<li><strong>@typescript-eslint/eslint-plugin</strong>：包含了各类定义好的检测 Typescript 代码的规范</li>\n<li><strong>eslint-plugin-import</strong>：ES2015 +（ES6 +）导入 / 导出语法的检查</li>\n<li><strong>eslint-import-resolver-webpack</strong>：使 eslint 识别 webpack 配置，或者使用<strong> eslint-import-resolver-alias</strong></li>\n<li><strong>babel-eslint</strong>：使 eslint 支持有效的 babel 代码</li>\n<li><strong>eslint-plugin-prettier</strong>：基于  <code>prettier</code>  代码风格的  <code>eslint</code>  规则</li>\n<li><strong>eslint-config-prettier</strong>： 禁用所有与格式相关的 eslint 规则，解决 prettier 与 eslint 规则冲突，确保将其放在  <code>extends</code>  队列最后，这样它将覆盖其他配置。</li>\n</ul>\n<p>老规矩使用 <code>pnpm i -D eslint eslint-plugin-react @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-import babel-eslint eslint-plugin-prettier eslint-config-prettier</code>  命令安装 eslint 和需要的插件。</p>\n<p>然后声明一个 <code>.eslintrc.js</code>  文件用于配置我们的 eslint 规则：</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .eslintrc.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">parser</span>: <span class=\"string\">&#x27;@typescript-eslint/parser&#x27;</span>, <span class=\"comment\">// 定义ESLint的解析器</span></span><br><span class=\"line\">  <span class=\"attr\">extends</span>: [<span class=\"string\">&#x27;plugin:prettier/recommended&#x27;</span>], <span class=\"comment\">//定义文件继承的子规范</span></span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [<span class=\"string\">&#x27;@typescript-eslint&#x27;</span>, <span class=\"string\">&#x27;eslint-plugin-react&#x27;</span>], <span class=\"comment\">//定义了该eslint文件所依赖的插件</span></span><br><span class=\"line\">  <span class=\"attr\">env</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">//指定代码的运行环境</span></span><br><span class=\"line\">    <span class=\"attr\">browser</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">node</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">settings</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">//自动发现React的版本，从而进行规范react代码</span></span><br><span class=\"line\">    <span class=\"attr\">react</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">pragma</span>: <span class=\"string\">&#x27;React&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">version</span>: <span class=\"string\">&#x27;detect&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">//指定ESLint可以解析JSX语法</span></span><br><span class=\"line\">    <span class=\"attr\">parser</span>: <span class=\"string\">&#x27;babel-eslint&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">ecmaVersion</span>: <span class=\"number\">8</span>,</span><br><span class=\"line\">    <span class=\"attr\">sourceType</span>: <span class=\"string\">&#x27;module&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">ecmaFeatures</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">jsx</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;prettier/prettier&#x27;</span>: [<span class=\"string\">&#x27;error&#x27;</span>, &#123; <span class=\"attr\">endOfLine</span>: <span class=\"string\">&#x27;auto&#x27;</span> &#125;],</span><br><span class=\"line\">    <span class=\"string\">&#x27;no-unused-expressions&#x27;</span>: [<span class=\"string\">&#x27;error&#x27;</span>, &#123; <span class=\"attr\">allowShortCircuit</span>: <span class=\"literal\">true</span>, <span class=\"attr\">allowTernary</span>: <span class=\"literal\">true</span> &#125;], <span class=\"comment\">// 允许使用短路、三目</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;func-names&#x27;</span>: [<span class=\"string\">&#x27;error&#x27;</span>, <span class=\"string\">&#x27;as-needed&#x27;</span>], <span class=\"comment\">// 需要时添加函数名称</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;no-param-reassign&#x27;</span>: [<span class=\"string\">&#x27;error&#x27;</span>, &#123; <span class=\"attr\">props</span>: <span class=\"literal\">false</span> &#125;], <span class=\"comment\">// 函数形参可修改</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;react/jsx-uses-react&#x27;</span>: <span class=\"string\">&#x27;off&#x27;</span>, <span class=\"comment\">// React 17及以后引入了新的 JSX 编译方式，无须在组件中显式地 import React，可关闭</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;react/react-in-jsx-scope&#x27;</span>: <span class=\"string\">&#x27;off&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;no-plusplus&#x27;</span>: <span class=\"string\">&#x27;off&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;no-shadow&#x27;</span>: <span class=\"string\">&#x27;off&#x27;</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>pnpm run eject</code>  暴露 webpack 配置文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm install less-loader less --save`或`yarn add less-loader less --save</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装less和less-loader\"><a class=\"markdownIt-Anchor\" href=\"#安装less和less-loader\">#</a> 安装 less 和 less-loader</h3>\n<p>搜索 <code>sassRegex</code> ，可以搜出来两个</p>\n<p>模仿 sass 代码添加这两段代码分别到 sass 两端旁边</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> lessRegex = <span class=\"regexp\">/\\.less$/</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> lessModuleRegex = <span class=\"regexp\">/\\.module\\.less$/</span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Opt-in support for less (using .scss or .sass extensions).</span></span><br><span class=\"line\"><span class=\"comment\">// By default we support less Modules with the</span></span><br><span class=\"line\"><span class=\"comment\">// extensions .module.less</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">test</span>: lessRegex,</span><br><span class=\"line\">  <span class=\"attr\">exclude</span>: lessModuleRegex,</span><br><span class=\"line\">  <span class=\"attr\">use</span>: <span class=\"title function_\">getStyleLoaders</span>(</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">importLoaders</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">      <span class=\"attr\">sourceMap</span>: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&#x27;less-loader&#x27;</span></span><br><span class=\"line\">  ),</span><br><span class=\"line\">  <span class=\"comment\">// Don&#x27;t consider CSS imports dead code even if the</span></span><br><span class=\"line\">  <span class=\"comment\">// containing package claims to have no side effects.</span></span><br><span class=\"line\">  <span class=\"comment\">// Remove this when webpack adds a warning or an error for this.</span></span><br><span class=\"line\">  <span class=\"comment\">// See https://github.com/webpack/webpack/issues/6571</span></span><br><span class=\"line\">  <span class=\"attr\">sideEffects</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// Adds support for CSS Modules, but using less</span></span><br><span class=\"line\"><span class=\"comment\">// using the extension .module.less</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">test</span>: lessModuleRegex,</span><br><span class=\"line\">  <span class=\"attr\">use</span>: <span class=\"title function_\">getStyleLoaders</span>(</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">importLoaders</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">      <span class=\"attr\">sourceMap</span>: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class=\"line\">      <span class=\"attr\">modules</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">getLocalIdent</span>: getCSSModuleLocalIdent,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&#x27;less-loader&#x27;</span></span><br><span class=\"line\">  ),</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h2 id=\"vite搭建react项目\"><a class=\"markdownIt-Anchor\" href=\"#vite搭建react项目\">#</a> vite 搭建 react 项目</h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm create vite@latest my-vite-app</span><br></pre></td></tr></table></figure>\n<p>vite.config.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> react <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@vitejs/plugin-react&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [<span class=\"title function_\">react</span>()],</span><br><span class=\"line\">  <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;@&#x27;</span>: <span class=\"string\">&#x27;/src&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>在 Vite 中引入 ESLint 插件，以便在开发阶段发现问题。.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm i vite-plugin-eslint -D</span><br></pre></td></tr></table></figure>\n<p>vite.config.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// vite.config.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> react <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@vitejs/plugin-react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> viteEslint <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite-plugin-eslint&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"title function_\">react</span>(),</span><br><span class=\"line\">    <span class=\"title function_\">viteEslint</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">failOnError</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"配置less\"><a class=\"markdownIt-Anchor\" href=\"#配置less\">#</a> 配置 less</h3>\n<p>内置支持，只需要安装即可</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm i -D less</span><br></pre></td></tr></table></figure>\n<h2 id=\"搭建nextjs项目\"><a class=\"markdownIt-Anchor\" href=\"#搭建nextjs项目\">#</a> 搭建 nextjs 项目</h2>\n<h3 id=\"prettier-2\"><a class=\"markdownIt-Anchor\" href=\"#prettier-2\">#</a> prettier</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier</span><br></pre></td></tr></table></figure>\n<h3 id=\"eslint-2\"><a class=\"markdownIt-Anchor\" href=\"#eslint-2\">#</a> eslint</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-import-resolver-typescript</span><br></pre></td></tr></table></figure>\n<p>.eslintrc</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .eslintrc</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;env&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;browser&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;es2021&quot;</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;plugins&quot;</span>: [<span class=\"string\">&quot;@typescript-eslint&quot;</span>],</span><br><span class=\"line\">  <span class=\"string\">&quot;extends&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;plugin:@typescript-eslint/recommended&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;next&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;next/core-web-vitals&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;prettier&quot;</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"string\">&quot;parser&quot;</span>: <span class=\"string\">&quot;@typescript-eslint/parser&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;parserOptions&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;ecmaFeatures&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;jsx&quot;</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&quot;ecmaVersion&quot;</span>: <span class=\"number\">12</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;sourceType&quot;</span>: <span class=\"string\">&quot;module&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;rules&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;@typescript-eslint/no-unused-vars&quot;</span>: <span class=\"string\">&quot;off&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;@typescript-eslint/no-explicit-any&quot;</span>: <span class=\"string\">&quot;off&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;@typescript-eslint/no-non-null-assertion&quot;</span>: <span class=\"string\">&quot;off&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;@typescript-eslint/consistent-type-imports&quot;</span>: <span class=\"string\">&quot;warn&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;@typescript-eslint/no-var-requires&quot;</span>: <span class=\"string\">&quot;off&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;import/no-anonymous-default-export&quot;</span>: [</span><br><span class=\"line\">      <span class=\"string\">&quot;error&quot;</span>,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;allowArray&quot;</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;allowArrowFunction&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;allowAnonymousClass&quot;</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;allowAnonymousFunction&quot;</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;allowCallExpression&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;allowLiteral&quot;</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;allowObject&quot;</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": []
        }
    ]
}