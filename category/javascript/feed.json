{
    "version": "https://jsonfeed.org/version/1",
    "title": "汐月也自闭了的个人博客 • All posts by \"javascript\" category",
    "description": "这个需求写不了",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2023/09/02/Javascript/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/",
            "url": "http://example.com/2023/09/02/Javascript/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/",
            "title": "文件操作",
            "date_published": "2023-09-02T15:21:10.574Z",
            "content_html": "<h2 id=\"blob\"><a class=\"markdownIt-Anchor\" href=\"#blob\">#</a> Blob</h2>\n<p>Blob 对象表示一个不可变、原始数据的类文件对象。我们直接来看这么使用它：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> blob = <span class=\"keyword\">new</span> <span class=\"title class_\">Blob</span>([<span class=\"string\">&#x27;hello world&#x27;</span>], &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;text/plain&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>\n<p>第一个参数是个数组，数组项可以是 ArrayBuffer, String 等等，第二个是配置项，最常用的就是 type 属性，可以传入 text/plain, text/html 等</p>\n<h3 id=\"file\"><a class=\"markdownIt-Anchor\" href=\"#file\">#</a> File</h3>\n<p>文件（File）接口提供有关文件的信息，并允许网页中的 JavaScript 访问其内容，继承了 Blob。</p>\n<p>通常 File 对象来源有两个：</p>\n<ul>\n<li><code>&lt;input&gt;</code>  元素上选择文件后返回的 FileList 对象</li>\n<li>拖放操作生成的 DataTransfer 对象（dataTransfer.files）</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> file = <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>([<span class=\"string\">&quot;foo&quot;</span>], <span class=\"string\">&quot;foo.txt&quot;</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&quot;text/plain&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">lastModified</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"filereader\"><a class=\"markdownIt-Anchor\" href=\"#filereader\">#</a> FileReader</h3>\n<p>FileReader 对象允许 Web 应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，可以读取 Blob 和 File 的数据。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>error</td>\n<td>一个 DOMException，表示读取文件时发生的错误</td>\n</tr>\n<tr>\n<td>readyState</td>\n<td>0 代表还没加载，1 代表加载中，2 代表加载完成</td>\n</tr>\n<tr>\n<td>result</td>\n<td>文件的内容</td>\n</tr>\n</tbody>\n<tbody>\n<tr>\n<td>事件</td>\n<td>说明</td>\n</tr>\n<tr>\n<td>-----------</td>\n<td>------------------------------------------------</td>\n</tr>\n<tr>\n<td>onabort</td>\n<td>读取操作被中断事件</td>\n</tr>\n<tr>\n<td>onerror</td>\n<td>读取操作发生错误的事件</td>\n</tr>\n<tr>\n<td>onload</td>\n<td>读取操作完成的事件</td>\n</tr>\n<tr>\n<td>onloadstart</td>\n<td>该事件在读取操作开始时触发</td>\n</tr>\n<tr>\n<td>onloadend</td>\n<td>该事件在读取操作结束时（要么成功，要么失败）触发</td>\n</tr>\n<tr>\n<td>onprogress</td>\n<td>读取 Blob 时触发</td>\n</tr>\n</tbody>\n<tbody>\n<tr>\n<td>方法</td>\n<td>说明</td>\n</tr>\n<tr>\n<td>------------------</td>\n<td>-------------------------------------------------</td>\n</tr>\n<tr>\n<td>abort</td>\n<td>中止读取</td>\n</tr>\n<tr>\n<td>readAsArrayBuffer</td>\n<td>开始读取数据，读取完后 result 是 ArrayBuffer 对象</td>\n</tr>\n<tr>\n<td>readAsBinaryString</td>\n<td>开始读取数据，读取完后 result 是二进制数据</td>\n</tr>\n<tr>\n<td>readAsDataURL</td>\n<td>开始读取数据，读取完后 result 是 Base64 字符串</td>\n</tr>\n<tr>\n<td>readAsText</td>\n<td>开始读取数据，读取完后 result 是字符串</td>\n</tr>\n</tbody>\n</table>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/08/01/Javascript/%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0%E5%B0%86%E5%BD%A9%E8%89%B2%E5%9B%BE%E5%8F%98%E6%88%90%E9%BB%91%E7%99%BD%E8%89%B2/",
            "url": "http://example.com/2023/08/01/Javascript/%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0%E5%B0%86%E5%BD%A9%E8%89%B2%E5%9B%BE%E5%8F%98%E6%88%90%E9%BB%91%E7%99%BD%E8%89%B2/",
            "title": "前端实现将彩色图变成黑白色",
            "date_published": "2023-08-01T15:41:25.330Z",
            "content_html": "<h2 id=\"canvasjs实现\"><a class=\"markdownIt-Anchor\" href=\"#canvasjs实现\">#</a> canvas+JS 实现</h2>\n<h3 id=\"前置知识\"><a class=\"markdownIt-Anchor\" href=\"#前置知识\">#</a> 前置知识</h3>\n<h4 id=\"canvasgetimagedata\"><a class=\"markdownIt-Anchor\" href=\"#canvasgetimagedata\">#</a> canvas.getImageData()</h4>\n<p><code>ctx.getImageData(sx, sy, sw, sh)</code> : 表示从 cavas2d 上下文获取某个区的<strong>图像数据</strong>。</p>\n<p>sx、sy 表示该区域图像的起点，sw 和 sh 表示该区域图像的尺寸。</p>\n<h3 id=\"例子\"><a class=\"markdownIt-Anchor\" href=\"#例子\">#</a> 例子</h3>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAHcAswMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAEAAECAwUHBv/EADwQAAIBAwIEAwUHAgMJAAAAAAECAwAEERIhBTFRYRNBcQYigZGhFDJCUrHB0SPhBzPwFRZicoKjwtLx/8QAGAEAAwEBAAAAAAAAAAAAAAAAAAECAwT/xAAhEQEAAgIBBQEBAQAAAAAAAAAAARECEiEDEzFBUWEyIv/aAAwDAQACEQMRAD8Az1jqxUq4R1MR11W4fClUqQiolY6tWKiykIIqmIe1FrAatWLtRZAhFnyqQg7UesFSEPai0AfBx5VJYu1HiHNOIe1OyoCIu1TWHtRwgqYgosqAiHtT+F2o4Q0Pe3FtZR67mUJ0XzPoKLLWVPg03g1nze0tojaUgmbfmQBt86LsOL2d65jVmjkzgK4xmi19nOrpIw1W0VaZhqDQ0WimWYqgYu1aZhqDQ0zZpjqJjo9oaiYqVmB8OlRfhU9FhBYu1WLD2oxYu1WrDWdt5BrDViw4o5Ye1WrbjpRZUCSPtVywg+VFi3qa29KZPUKLc7bVMQdqNSIirRGanY9GeLcdKl9m6VoiHNLwGo2Pts7wSPKpBN+VHGIimMO29G5dtnX0q2llNcMudC5A6nyFc6vppLm4klmYs5PmfpXv/ahNHCiv5nArnt0oJ1DmcA+tVGVt+l06iw5xsR86sjBLuFJDY1Ajr/oVDTkA/m5djV0Q/qK3LmPnVNKdA4VJ9r4dBO33mXDHuNjRfgbUH7JjXw90/K+R2B/uDW74O1Ts5M+nWUsswVU0Narx4oeROtGyO2zmhqtoe1GSHBqGoEcqNhoE8GlROaVGw0XJD2q1Yd+VFpF2q5Yay2b6BFg7VasPajFiqxYqNj0CLD2qxYe1FBBVix0tj0DRxAMCVBx5HkakIqLEdSEdK1ahRFjyqYjHSiRHUvDo2PUH4AzWLxzjkHB5jHNDrGlWUhwAck5HqMA+ho32pN7Dw9JLFZWAkHjCLOvR2xv8q5px/hfEhFHe32UiuJGWEPnV8Qd89zvSxnnl1dLoxlG2U8N/j/GY+KcPD2sbCFGYLI22rluOwGR6mvGIrPEzkbM237V6pbzhK8GsuHCXxbkIvipGucZBJGeWck1j3Elu6FbeMqGAKEkHJX9KvDKfhZY4xxDKYHTywQc1dbjUy9/1qciLqx5McD4imtBhlB2ww/XB/WtLRT3XsaCbfPfSfln9vrXpwnavPexwA8ZG8sMPg2D9K9eYV8qwtGePLOkgLcqGktZDyrZ8HaoiHei06QwWsyfw1BrI/lxXoGh25VUYgKNhqwfsT9BSrc8GlRZaqkQdqvWPtVqxKRuBVqxL5AVju6NFKx9qE4hLLFecNhiIAuJyr5GcqEZv1ArWWPH/ANrL4gufaPg8eeSXEnPoqr/5VUZFoMMMo5aSOmKdVYfhNGKvapgHpRY1DoM8xVoQVYAPMVLAp2WqsIKWirNqkAO9OxSnRXP/APFm7MNrY2SgBpWaUtzICjGB65+ldH0iuWf4xxleIcOkGdJgYfJv71WH9CI5c5jlaCdJY/vocg1pQ3OqKVomxj+oFbcqxbcem/Pvmsl9zSjkaJ9S4z0PI9jW8tNW+mmeAMvlv6dvrVUA/rvEev0IqPDZAY5fDY4xkBjkrt9avcZl8ReZXOO4NJERT23slMPtkWobSw+8PTn9a9t4LkbOQccq53wC5EFxZzj7qlgfTmf3+ddInWRbqzRWGiQsG74XI/SuWfMryjxLL4NPdz8Kt55pA7sDqOnGcEj9qPSUH7woH2aWePgyaBq0TTLpzzxI1aAuAcie2ZT6ZpTPKdbPrjOwO9DSmQPhYyR1olTbyHChh/zLirwgA90g+hpWerJM0mf8tvlSrUI7H5UqVjUEkgq1XWubPc3MMKuONTuxbYBzupGx3HXypo+KXjSeCeLyRtkA65FATPPJ7bfzUR0p826ePjp6yCsqR/E9r7ceUNi59NTr/wCtePk4q9tD7/tKGctsI/f26kjOPKshvaNor03Ud3dyPJGsYbkeZyPSqw6WU+2eVQ7EHHWph161yuP2lvlijaS6uA8smhEG5z8vPyqoe2fFEupLdpHUxkhtRBOR8KqOl1PSJr265qXqKkGTqK5x/vFxH7KkhnYN5gRgknGcctudKL2j4i0RlE7sg5lo1ABPIZI7URGcDWJ8Ok5Q8yKkCvkRXOpvaq6t2QS3EK+IoKkICGBOM7HrSPtrJHcNbH+tOpYNGsJBGkEn9DTicvhdv9dGyDXN/wDGR4zb8OiIHiEyMp7DSCPr9KFf2/uZIpZLWyyIwCzM5wozjfHc15H2t45ecYezuLrQAviCPQNsbZ5860w2vmBGERN284x32pqdsZJHKmrdS+xn8C4DH7re63pWzGckHtvXn62rBzJHG3Mg4Pf/AFmiSp6DhDaYAcjSjsMnyJQgfpXVpl+zzcGiLatMhjLdcRP/ABXIYyqcHvY9ao0nuKzdTv8AzW9N7dXUhtpZbNBHZzgsRJlidLLy7g1yzdzS88biHu/ZZgbG5X8l7cL/ANw/zWuQtcnsvbWWzguraGEpNdXLzRyhxhNRBxvt8auj9ueKwxXAcwzNCcOzaRpPLAwfe89x06Up2+M+26bIikVXoCjGx9a5RN7dcVUgrckpjJzEo/Y9qIuParjsSrIb63MLLqDKYicnkMDf6VOWGdqjD9dLMYJzk/BzSrmdv7f8QWBFlWN3A3YrjPy2p6jt9T4rV4FbuYRaEkZFOkYz0O36mpRy28bOpgE6MRpDkqVweoOOW3xoMsPyj4UtQxsMd676hDdsGsXRzNGgmxpSPOA3ruCTsMdxmoyQSixkm8EeFhwDyI0sM7fEfOsdCCVXUwOeYomaJpEjCNrCEkZoiPaZjlpWvFrq1keC3YRCRQrjCnI59D1q22jt5J2AjCkkcyfOsmyWSKWOUSeGyknLJkDp2retOMTRyr9tZPDI3UoBn5UaV4LPL0tlu7Ph+6ShoyoxgE4bzXesW9liW4KRTJNCWJ1RqRtyxg4r09vd8KuL6CcqqyKxCtyB78qy/aG9sG4hcBuGwiZHAV11DXgc2GcH5eQpRCcMuaiAEWDEl1N4cUIiEYUjDyHH3gMcj1zRkfEnebxblfEicf5BPuY6Ecjy9e9YNzPNdzFhqY9AM1p/Z5orGF3ZTq5FfL1706ppLclg4Xep40QIYc4I4gSvxyNj6bY3rzHGJkubtUt1RY091AnLv9c0Rb3D258RWwRQXEZbaSYy2yNGzffGBjPbpREUMQXLY0qfyGaamsq1+CuqoS/JXyfSsiiLSVkDJqxr5HoaUxcUGpxm5MU01qpOnXrXPXb+9CJxCVbd4NKskmNYJPvYzjIzjzNVO8t/cINJaXkR1q5+DXYwVUEHn73KpxrGORlcq/tzeIGaKN8fhcZA2xUheYXUbK3GptQOk9Mbdqb/AGXdg4KKB+YtijIOHyPGEumjdE+6AxBHxxVXj5T/AKhmeIQilQQwOOflTh3XmcA0e3DkBIKYHlpm/kVW9gM48VQOmrNG2JRYeSZ2cnW3walV/wBgi85PqKaltBhRBM3NAPXarhY5X3n0mtK3sjdRyvAC3h4ypxk5zyHnyNWJw+ZXt11KnjtgAnOk9+nMUrNjiy6uR8Kuj4cx3LnSOg5VsXHDpbd0Es0aeIT7zA+XpnrTLw2Uu6NcDKNpJHXpuRvSuRwznsTNjxJ8qKdbaGPYtM3cCpsWikw0md+ZYb07XYUlcB05Bh5U42suDrEoA8RHwNwWYD9KruOJW4uUaSxjmeH8Uh+92PXH7VS0rMQclehx/NCTpqfUNIJGTk1UY/S4a9rNwy5TeWO0P4kkUkfAirbuSxig02l1DeTuQMIjIcdN+Z+Nec0N0qXhOvvMCo60awfsbcnTgbjfB8qzjzoy4uJJpWedtTyEtqz50I33jTOPJqVKl+tBlU44pJCoRGYk7YHOtqCO3XS8USgMAQTv9aMu2AsEkBCskgwT5AjB/ap2OYAWMf2aEszaZywBDe6SOm9FTPcKcquoHl72T6H61VDxWSGPQ6rIvl7xWrJOJxSOvjWsinHvEuOfwxttSnH7CbM7HGXBU+pFUmRAG0yK2OWGO5qbSQeIzBpQR+EtlSuOtU+DA4MkUp8Q81A0gbc+VGsFsizMM6FPveYYZ+R3psSvuF+bDPyzTLZ4IIOpvNSdz8OdWJw+eXIMek+Wtefz3p6wLlVmQbHTns1NTvBIjFSRkdGpU9U2NgvWt4plSBCXKkO5zoIzgjvvVr8WL+E7xCN43LM6c2Ygb45Z2p6VTHK5Vf7TUaWeecqGJUsiuQf+ruOdRe+jmKsHu8RsG1kJlm5DPX40qVXUIkCwR1mkUhUU7ahj4AD+wpiDoLLGugDBcbZOPXNKlTNWV5E76ht1padhnzG1KlQDvCETWTtnYncmrLe3D6WYEA7g7Y7d6VKlIJ4ELZAZ853LY5c80LcwupMjKFVjgDOaVKgw9KlSoVDW4e2qyX/gcr+/70XO+rh8w7A/IilSqJX6Z0EuW0lXYEZ+/uP2p1iyviRaccjlQcUqVXLEgVVQ5BKgb4qqR4idg2eYzy9KVKmCDTLGTqJQEcm/miLO5NuQy7gjdWAOKalQBH2uIcrWP45z+tKlSpUl/9k=&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;canvas&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;img&quot;</span>)[<span class=\"number\">0</span>]</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#canvas&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> ctx = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&quot;2d&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      ctx.<span class=\"title function_\">drawImage</span>(img,<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> imgData = ctx.<span class=\"title function_\">getImageData</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">179</span>,<span class=\"number\">119</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(imgData);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">/*</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">      r,g,b,a分别代表r,g,b,a对应的值(0~255)</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">        imgData = &#123;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">          data:[r,g,b,a,r,g,b,a],</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">          width:,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">          height:,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">      */</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">//定义一个新的数组</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">let</span> newArr = [];</span></span><br><span class=\"line\"><span class=\"language-javascript\">imgData.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">colorVal,i</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span>(i % <span class=\"number\">4</span> === <span class=\"number\">0</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 获取rgb均值</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> average = <span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>((imgData.<span class=\"property\">data</span>[i]+imgData.<span class=\"property\">data</span>[i+<span class=\"number\">1</span>]+imgData.<span class=\"property\">data</span>[i+<span class=\"number\">2</span>])/<span class=\"number\">3</span>);<span class=\"comment\">// (r+g+b)/3</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        newArr[i] = newArr[i+<span class=\"number\">1</span>] = newArr[i+<span class=\"number\">2</span>] = average;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//alpha值统一为255</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        newArr[i+<span class=\"number\">3</span>] = <span class=\"number\">255</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">// 新建一个imgData对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">const</span> newImgData = ctx.<span class=\"title function_\">createImageData</span>(<span class=\"number\">179</span>,<span class=\"number\">119</span>)<span class=\"comment\">// 宽,高</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">// 将换算后的数据添加到新的imageData对象里</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">newImgData.<span class=\"property\">data</span>.<span class=\"title function_\">set</span>(newArr);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">// 将新建的imageData绘制到画布上</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">ctx.<span class=\"title function_\">putImageData</span>(newImgData, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://cdnjson.com/images/2023/08/01/QQ20230801233727.md.png\" alt=\"QQ20230801233727.md.png (500×318) (cdnjson.com)\"></p>\n<h2 id=\"css添加滤镜实现\"><a class=\"markdownIt-Anchor\" href=\"#css添加滤镜实现\">#</a> CSS 添加滤镜实现</h2>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"selector-tag\">img</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">\t<span class=\"attribute\">filter</span>: <span class=\"built_in\">grayscale</span>(<span class=\"number\">100%</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAHcAswMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAEAAECAwUHBv/EADwQAAIBAwIEAwUHAgMJAAAAAAECAwAEERIhBTFRYRNBcQYigZGhFDJCUrHB0SPhBzPwFRZicoKjwtLx/8QAGAEAAwEBAAAAAAAAAAAAAAAAAAECAwT/xAAhEQEAAgIBBQEBAQAAAAAAAAAAARECEiEDEzFBUWEyIv/aAAwDAQACEQMRAD8Az1jqxUq4R1MR11W4fClUqQiolY6tWKiykIIqmIe1FrAatWLtRZAhFnyqQg7UesFSEPai0AfBx5VJYu1HiHNOIe1OyoCIu1TWHtRwgqYgosqAiHtT+F2o4Q0Pe3FtZR67mUJ0XzPoKLLWVPg03g1nze0tojaUgmbfmQBt86LsOL2d65jVmjkzgK4xmi19nOrpIw1W0VaZhqDQ0WimWYqgYu1aZhqDQ0zZpjqJjo9oaiYqVmB8OlRfhU9FhBYu1WLD2oxYu1WrDWdt5BrDViw4o5Ye1WrbjpRZUCSPtVywg+VFi3qa29KZPUKLc7bVMQdqNSIirRGanY9GeLcdKl9m6VoiHNLwGo2Pts7wSPKpBN+VHGIimMO29G5dtnX0q2llNcMudC5A6nyFc6vppLm4klmYs5PmfpXv/ahNHCiv5nArnt0oJ1DmcA+tVGVt+l06iw5xsR86sjBLuFJDY1Ajr/oVDTkA/m5djV0Q/qK3LmPnVNKdA4VJ9r4dBO33mXDHuNjRfgbUH7JjXw90/K+R2B/uDW74O1Ts5M+nWUsswVU0Narx4oeROtGyO2zmhqtoe1GSHBqGoEcqNhoE8GlROaVGw0XJD2q1Yd+VFpF2q5Yay2b6BFg7VasPajFiqxYqNj0CLD2qxYe1FBBVix0tj0DRxAMCVBx5HkakIqLEdSEdK1ahRFjyqYjHSiRHUvDo2PUH4AzWLxzjkHB5jHNDrGlWUhwAck5HqMA+ho32pN7Dw9JLFZWAkHjCLOvR2xv8q5px/hfEhFHe32UiuJGWEPnV8Qd89zvSxnnl1dLoxlG2U8N/j/GY+KcPD2sbCFGYLI22rluOwGR6mvGIrPEzkbM237V6pbzhK8GsuHCXxbkIvipGucZBJGeWck1j3Elu6FbeMqGAKEkHJX9KvDKfhZY4xxDKYHTywQc1dbjUy9/1qciLqx5McD4imtBhlB2ww/XB/WtLRT3XsaCbfPfSfln9vrXpwnavPexwA8ZG8sMPg2D9K9eYV8qwtGePLOkgLcqGktZDyrZ8HaoiHei06QwWsyfw1BrI/lxXoGh25VUYgKNhqwfsT9BSrc8GlRZaqkQdqvWPtVqxKRuBVqxL5AVju6NFKx9qE4hLLFecNhiIAuJyr5GcqEZv1ArWWPH/ANrL4gufaPg8eeSXEnPoqr/5VUZFoMMMo5aSOmKdVYfhNGKvapgHpRY1DoM8xVoQVYAPMVLAp2WqsIKWirNqkAO9OxSnRXP/APFm7MNrY2SgBpWaUtzICjGB65+ldH0iuWf4xxleIcOkGdJgYfJv71WH9CI5c5jlaCdJY/vocg1pQ3OqKVomxj+oFbcqxbcem/Pvmsl9zSjkaJ9S4z0PI9jW8tNW+mmeAMvlv6dvrVUA/rvEev0IqPDZAY5fDY4xkBjkrt9avcZl8ReZXOO4NJERT23slMPtkWobSw+8PTn9a9t4LkbOQccq53wC5EFxZzj7qlgfTmf3+ddInWRbqzRWGiQsG74XI/SuWfMryjxLL4NPdz8Kt55pA7sDqOnGcEj9qPSUH7woH2aWePgyaBq0TTLpzzxI1aAuAcie2ZT6ZpTPKdbPrjOwO9DSmQPhYyR1olTbyHChh/zLirwgA90g+hpWerJM0mf8tvlSrUI7H5UqVjUEkgq1XWubPc3MMKuONTuxbYBzupGx3HXypo+KXjSeCeLyRtkA65FATPPJ7bfzUR0p826ePjp6yCsqR/E9r7ceUNi59NTr/wCtePk4q9tD7/tKGctsI/f26kjOPKshvaNor03Ud3dyPJGsYbkeZyPSqw6WU+2eVQ7EHHWph161yuP2lvlijaS6uA8smhEG5z8vPyqoe2fFEupLdpHUxkhtRBOR8KqOl1PSJr265qXqKkGTqK5x/vFxH7KkhnYN5gRgknGcctudKL2j4i0RlE7sg5lo1ABPIZI7URGcDWJ8Ok5Q8yKkCvkRXOpvaq6t2QS3EK+IoKkICGBOM7HrSPtrJHcNbH+tOpYNGsJBGkEn9DTicvhdv9dGyDXN/wDGR4zb8OiIHiEyMp7DSCPr9KFf2/uZIpZLWyyIwCzM5wozjfHc15H2t45ecYezuLrQAviCPQNsbZ5860w2vmBGERN284x32pqdsZJHKmrdS+xn8C4DH7re63pWzGckHtvXn62rBzJHG3Mg4Pf/AFmiSp6DhDaYAcjSjsMnyJQgfpXVpl+zzcGiLatMhjLdcRP/ABXIYyqcHvY9ao0nuKzdTv8AzW9N7dXUhtpZbNBHZzgsRJlidLLy7g1yzdzS88biHu/ZZgbG5X8l7cL/ANw/zWuQtcnsvbWWzguraGEpNdXLzRyhxhNRBxvt8auj9ueKwxXAcwzNCcOzaRpPLAwfe89x06Up2+M+26bIikVXoCjGx9a5RN7dcVUgrckpjJzEo/Y9qIuParjsSrIb63MLLqDKYicnkMDf6VOWGdqjD9dLMYJzk/BzSrmdv7f8QWBFlWN3A3YrjPy2p6jt9T4rV4FbuYRaEkZFOkYz0O36mpRy28bOpgE6MRpDkqVweoOOW3xoMsPyj4UtQxsMd676hDdsGsXRzNGgmxpSPOA3ruCTsMdxmoyQSixkm8EeFhwDyI0sM7fEfOsdCCVXUwOeYomaJpEjCNrCEkZoiPaZjlpWvFrq1keC3YRCRQrjCnI59D1q22jt5J2AjCkkcyfOsmyWSKWOUSeGyknLJkDp2retOMTRyr9tZPDI3UoBn5UaV4LPL0tlu7Ph+6ShoyoxgE4bzXesW9liW4KRTJNCWJ1RqRtyxg4r09vd8KuL6CcqqyKxCtyB78qy/aG9sG4hcBuGwiZHAV11DXgc2GcH5eQpRCcMuaiAEWDEl1N4cUIiEYUjDyHH3gMcj1zRkfEnebxblfEicf5BPuY6Ecjy9e9YNzPNdzFhqY9AM1p/Z5orGF3ZTq5FfL1706ppLclg4Xep40QIYc4I4gSvxyNj6bY3rzHGJkubtUt1RY091AnLv9c0Rb3D258RWwRQXEZbaSYy2yNGzffGBjPbpREUMQXLY0qfyGaamsq1+CuqoS/JXyfSsiiLSVkDJqxr5HoaUxcUGpxm5MU01qpOnXrXPXb+9CJxCVbd4NKskmNYJPvYzjIzjzNVO8t/cINJaXkR1q5+DXYwVUEHn73KpxrGORlcq/tzeIGaKN8fhcZA2xUheYXUbK3GptQOk9Mbdqb/AGXdg4KKB+YtijIOHyPGEumjdE+6AxBHxxVXj5T/AKhmeIQilQQwOOflTh3XmcA0e3DkBIKYHlpm/kVW9gM48VQOmrNG2JRYeSZ2cnW3walV/wBgi85PqKaltBhRBM3NAPXarhY5X3n0mtK3sjdRyvAC3h4ypxk5zyHnyNWJw+ZXt11KnjtgAnOk9+nMUrNjiy6uR8Kuj4cx3LnSOg5VsXHDpbd0Es0aeIT7zA+XpnrTLw2Uu6NcDKNpJHXpuRvSuRwznsTNjxJ8qKdbaGPYtM3cCpsWikw0md+ZYb07XYUlcB05Bh5U42suDrEoA8RHwNwWYD9KruOJW4uUaSxjmeH8Uh+92PXH7VS0rMQclehx/NCTpqfUNIJGTk1UY/S4a9rNwy5TeWO0P4kkUkfAirbuSxig02l1DeTuQMIjIcdN+Z+Nec0N0qXhOvvMCo60awfsbcnTgbjfB8qzjzoy4uJJpWedtTyEtqz50I33jTOPJqVKl+tBlU44pJCoRGYk7YHOtqCO3XS8USgMAQTv9aMu2AsEkBCskgwT5AjB/ap2OYAWMf2aEszaZywBDe6SOm9FTPcKcquoHl72T6H61VDxWSGPQ6rIvl7xWrJOJxSOvjWsinHvEuOfwxttSnH7CbM7HGXBU+pFUmRAG0yK2OWGO5qbSQeIzBpQR+EtlSuOtU+DA4MkUp8Q81A0gbc+VGsFsizMM6FPveYYZ+R3psSvuF+bDPyzTLZ4IIOpvNSdz8OdWJw+eXIMek+Wtefz3p6wLlVmQbHTns1NTvBIjFSRkdGpU9U2NgvWt4plSBCXKkO5zoIzgjvvVr8WL+E7xCN43LM6c2Ygb45Z2p6VTHK5Vf7TUaWeecqGJUsiuQf+ruOdRe+jmKsHu8RsG1kJlm5DPX40qVXUIkCwR1mkUhUU7ahj4AD+wpiDoLLGugDBcbZOPXNKlTNWV5E76ht1padhnzG1KlQDvCETWTtnYncmrLe3D6WYEA7g7Y7d6VKlIJ4ELZAZ853LY5c80LcwupMjKFVjgDOaVKgw9KlSoVDW4e2qyX/gcr+/70XO+rh8w7A/IilSqJX6Z0EuW0lXYEZ+/uP2p1iyviRaccjlQcUqVXLEgVVQ5BKgb4qqR4idg2eYzy9KVKmCDTLGTqJQEcm/miLO5NuQy7gjdWAOKalQBH2uIcrWP45z+tKlSpUl/9k=&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/08/01/Javascript/%E5%89%8D%E7%AB%AF%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
            "url": "http://example.com/2023/08/01/Javascript/%E5%89%8D%E7%AB%AF%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",
            "title": "前端设计模式|青训营",
            "date_published": "2023-08-01T02:23:58.413Z",
            "content_html": "<p>本文部分是参考文章整合，并进行错误纠正，详情请看参考文章。</p>\n<h2 id=\"什么是设计模式\"><a class=\"markdownIt-Anchor\" href=\"#什么是设计模式\">#</a> 什么是设计模式？</h2>\n<p>设计模式是对软件设计开发过程中反复出现的某类问题的<strong>通用解决方案</strong>。设计模式更多的是指导思想和方法论，而不是现成的代码，当然每种设计模式都有每种语言中的具体实现方式。学习设计模式更多的是理解各种模式的内在思想和解决的问题，毕竟这是前人无数经验总结成的最佳实践，而代码实现则是对加深理解的辅助。</p>\n<h2 id=\"1-工厂模式\"><a class=\"markdownIt-Anchor\" href=\"#1-工厂模式\">#</a> 1. 工厂模式</h2>\n<p><strong>工厂模式（Factory Pattern）：将对象的创建和使用分离，由工厂类负责创建对象并返回。在前端开发中，可以使用工厂模式来动态创建组件。</strong></p>\n<ul>\n<li>工厂模式，顾名思义，就是为了创造对象。</li>\n<li>工厂模式类似于现实的工厂生产线，可以生产出大量类似的商品。</li>\n<li>工厂模式的优点在于：能解决多个相似的问题，减少大量冗余代码。</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ButtonFactory</span>(<span class=\"params\">type</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&#x27;primary&#x27;</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">PrimaryButton</span>();</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&#x27;secondary&#x27;</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SecondaryButton</span>();</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&#x27;link&#x27;</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">LinkButton</span>();</span><br><span class=\"line\">    <span class=\"attr\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&#x27;Unknown button type: &#x27;</span> + type);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">PrimaryButton</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"string\">&#x27;primary&#x27;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">text</span> = <span class=\"string\">&#x27;Click me!&#x27;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">onClick</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Primary button clicked!&#x27;</span>);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">SecondaryButton</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"string\">&#x27;secondary&#x27;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">text</span> = <span class=\"string\">&#x27;Click me too!&#x27;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">onClick</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Secondary button clicked!&#x27;</span>);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">LinkButton</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"string\">&#x27;link&#x27;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">text</span> = <span class=\"string\">&#x27;Click me as well!&#x27;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">onClick</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Link button clicked!&#x27;</span>);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"2策略模式\"><a class=\"markdownIt-Anchor\" href=\"#2策略模式\">#</a> 2. 策略模式</h2>\n<p><strong>策略模式（Strategy Pattern）：定义一系列的算法，将每一个算法都封装起来，并且使它们可以相互替换。在前端开发中，可以使用策略模式来动态切换组件的算法和行为。</strong></p>\n<ul>\n<li>策略模式定义一系列的算法，把它们一个个封装起来，并且使它们可以相互替换。</li>\n<li>策略模式可以有效避免很多 if 条件语句。</li>\n<li>策略模式符合开放 - 封闭原则，使代码更容易理解和扩展。</li>\n<li>策略模式中的代码可以复用。</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> express = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;顺丰&#x27;</span>: <span class=\"keyword\">function</span> (<span class=\"params\">package</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 路径计算...</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;￥45.95&quot;</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&#x27;京东&#x27;</span>: <span class=\"keyword\">function</span> (<span class=\"params\">package</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 路径计算...</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;￥39.40&quot;</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&#x27;韵达&#x27;</span>: <span class=\"keyword\">function</span> (<span class=\"params\">package</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 路径计算...</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;￥24.45&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> calculateExpense = <span class=\"keyword\">function</span> (<span class=\"params\">type, package</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> express[type] ? express[type](package) : <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"title function_\">calculateExpense</span>(<span class=\"string\">&#x27;京东&#x27;</span>, <span class=\"number\">1</span>); <span class=\"comment\">// ￥39.40</span></span><br><span class=\"line\"><span class=\"title function_\">calculateExpense</span>(<span class=\"string\">&#x27;韵达&#x27;</span>, <span class=\"number\">1</span>); <span class=\"comment\">// ￥24.45</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"3观察者模式\"><a class=\"markdownIt-Anchor\" href=\"#3观察者模式\">#</a> 3. 观察者模式</h2>\n<p><strong>观察者模式（Observer Pattern）：当对象间存在一对多的关系时，使用观察者模式。当被观察的对象发生变化时，其所有的观察者都会收到通知并进行相应的操作。在 JavaScript 中，可以使用回调函数或事件监听来实现观察者模式。</strong></p>\n<ul>\n<li>观察者模式包含观察目标和观察者两类对象，</li>\n<li>一个目标可以有任意数目的与之相依赖的观察者，</li>\n<li>一旦观察目标的状态发生改变，所有的观察者都将得到通知。</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 定义一个主体对象</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Subject</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">observers</span> = []; <span class=\"comment\">// 观察者</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">add</span>(<span class=\"params\">observer</span>) &#123; <span class=\"comment\">// 添加</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">push</span>(observer)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">remove</span>(<span class=\"params\">observer</span>) &#123; <span class=\"comment\">// 移除</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">observers</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item !== observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">notify</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 通知</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">            item.<span class=\"title function_\">update</span>();</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 定义观察着对象</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Observer</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">update</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`my name is:<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.name&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 调用</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> observer1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&#x27;observer1&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> observer2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&#x27;observer2&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> subject = <span class=\"keyword\">new</span> <span class=\"title class_\">Subject</span>();</span><br><span class=\"line\">subject.<span class=\"title function_\">add</span>(observer1);</span><br><span class=\"line\">subject.<span class=\"title function_\">add</span>(observer2);</span><br><span class=\"line\">subject.<span class=\"title function_\">notify</span>();</span><br></pre></td></tr></table></figure>\n<h2 id=\"4发布-订阅模式\"><a class=\"markdownIt-Anchor\" href=\"#4发布-订阅模式\">#</a> 4. 发布 - 订阅模式</h2>\n<p><strong>发布 - 订阅模式（Publish-Subscribe Pattern）：也叫消息队列模式，它是一种将发布者和订阅者解耦的设计模式。在前端开发中，可以使用发布 - 订阅模式来实现组件之间的通信。</strong></p>\n<ul>\n<li>发布 + 订阅 = 观察者模式 ？</li>\n<li>在观察者模式中，观察者是知道 Subject 的，Subject 一直保持对观察者进行记录。然而，在发布订阅模式中，发布者和订阅者不知道对方的存在，它们只有通过消息代理进行通信。</li>\n<li>在发布订阅模式中，组件是松散耦合的，正好和观察者模式相反。</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 添加，执行，删除事件</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> publisher = &#123;</span><br><span class=\"line\">    <span class=\"attr\">topics</span>: [], <span class=\"comment\">// 可订阅的主题</span></span><br><span class=\"line\">    <span class=\"title function_\">subscribe</span>(<span class=\"params\">key, fn</span>) &#123; <span class=\"comment\">// 订阅</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">topics</span>[key]) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">topics</span>[key] = [];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">topics</span>[key].<span class=\"title function_\">push</span>(fn);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">unSubscribe</span>(<span class=\"params\">key, fn</span>) &#123; <span class=\"comment\">// 删除</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> fns = <span class=\"variable language_\">this</span>.<span class=\"property\">topics</span>[key];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; fns.<span class=\"property\">length</span>; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (fns[i] === fn) &#123;</span><br><span class=\"line\">                fns.<span class=\"title function_\">splice</span>(i, <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">publish</span>(<span class=\"params\">...args</span>) &#123; <span class=\"comment\">// 发布</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> key = args.<span class=\"title function_\">shift</span>();</span><br><span class=\"line\">        <span class=\"keyword\">let</span> fns = <span class=\"variable language_\">this</span>.<span class=\"property\">topics</span>[key];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!fns || fns.<span class=\"property\">length</span> &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>, len = fns.<span class=\"property\">length</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">            fns[i].<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, args);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 调用</span></span><br><span class=\"line\">publisher.<span class=\"title function_\">subscribe</span>(<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"function\">(<span class=\"params\">name</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`your name is <span class=\"subst\">$&#123;name&#125;</span>`</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">publisher.<span class=\"title function_\">subscribe</span>(<span class=\"string\">&#x27;gender&#x27;</span>, <span class=\"function\">(<span class=\"params\">gender</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`your gender is <span class=\"subst\">$&#123;gender&#125;</span>`</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">publisher.<span class=\"title function_\">publish</span>(<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;奥特曼&#x27;</span>);  <span class=\"comment\">// your name is 奥特曼</span></span><br><span class=\"line\">publisher.<span class=\"title function_\">publish</span>(<span class=\"string\">&#x27;gender&#x27;</span>, <span class=\"string\">&#x27;男&#x27;</span>);  <span class=\"comment\">// your gender is 男</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"5代理模式\"><a class=\"markdownIt-Anchor\" href=\"#5代理模式\">#</a> 5. 代理模式</h2>\n<p><strong>代理模式（Proxy Pattern）：前端设计模式中的代理模式是一种结构型模式，它允许在不改变原始对象的情况下，通过引入一个代理对象来控制对原始对象的访问。代理对象充当原始对象的中介，客户端与代理对象交互，代理对象再将请求转发给原始对象。</strong></p>\n<ul>\n<li>为其他对象提供一种代理以控制对这个对象的访问，客户端甚至感知不到代理层的存在。</li>\n<li>代理对象可以代替本体对象被实例化，此时本体对象未真正实例化，等到合适时机再实例化。</li>\n<li>代理模式可以延迟创建开销很大的本体对象，他会把本体的实例化推迟到有方法被调用时。</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 原始对象 - 图片</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Image</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">url</span> = url;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 加载图片</span></span><br><span class=\"line\">  <span class=\"title function_\">load</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Image loaded: <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.url&#125;</span>`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 代理对象 - 图片</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">ProxyImage</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">url</span> = url;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">image</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// 延迟加载</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 加载图片</span></span><br><span class=\"line\">  <span class=\"title function_\">load</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">image</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">image</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">url</span>); <span class=\"comment\">// 延迟加载图片</span></span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Placeholder loaded for <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.url&#125;</span>`</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">image</span>.<span class=\"title function_\">load</span>(); <span class=\"comment\">// 显示图片</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 客户端代码</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> img1 = <span class=\"keyword\">new</span> <span class=\"title class_\">ProxyImage</span>(<span class=\"string\">&#x27;https://example.com/image1.jpg&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> img2 = <span class=\"keyword\">new</span> <span class=\"title class_\">ProxyImage</span>(<span class=\"string\">&#x27;https://example.com/image2.jpg&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">img1.<span class=\"title function_\">load</span>(); <span class=\"comment\">// Placeholder loaded for https://example.com/image1.jpg, Image loaded: https://example.com/image1.jpg</span></span><br><span class=\"line\">img1.<span class=\"title function_\">load</span>(); <span class=\"comment\">// Image loaded: https://example.com/image1.jpg</span></span><br><span class=\"line\"></span><br><span class=\"line\">img2.<span class=\"title function_\">load</span>(); <span class=\"comment\">// Placeholder loaded for https://example.com/image2.jpg, Image loaded: https://example.com/image2.jpg</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"参考文章\"><a class=\"markdownIt-Anchor\" href=\"#参考文章\">#</a> 参考文章</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC83MjIzMTg1NDIwMTU3OTkzMDE3\">前端设计模式大全（汇总详细版）</span></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/07/25/Javascript/Javascript%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/",
            "url": "http://example.com/2023/07/25/Javascript/Javascript%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/",
            "title": "JavaScript语法基础",
            "date_published": "2023-07-24T17:32:10.473Z",
            "content_html": "<h2 id=\"javascript背景概述\"><a class=\"markdownIt-Anchor\" href=\"#javascript背景概述\">#</a> JavaScript 背景概述</h2>\n<h3 id=\"什么是javascript\"><a class=\"markdownIt-Anchor\" href=\"#什么是javascript\">#</a> 什么是 JavaScript</h3>\n<p>JavaScript（简称 JS）一种直译式<strong>脚本语言</strong>，一种基于对象和事件驱动并具有安全性的客户端脚本语言；<br>\n也是一种广泛应用客户端 web 开发的脚本语言。</p>\n<p>这种编程语言写出来的程序被称为 <strong>脚本</strong>。它们可以被直接写在网页的 HTML 中，在页面加载的时候自动执行。</p>\n<p>脚本被以<strong>纯文本</strong>的形式提供和执行。它们<strong>不需要特殊的准备或编译即可运行</strong>。</p>\n<p>简单地说，JavaScript 是一种运行在浏览器中的<strong>解释型</strong>的编程语言。</p>\n<h3 id=\"javascript历史\"><a class=\"markdownIt-Anchor\" href=\"#javascript历史\">#</a> JavaScript 历史</h3>\n<p>要了解 JavaScript，我们首先要回顾一下 JavaScript 的诞生。</p>\n<p>在上个世纪的 1995 年，当时的网景公司正凭借其 Navigator 浏览器成为 Web 时代开启时最著名的第一代互联网公司。</p>\n<p>由于网景公司希望能在静态 HTML 页面上添加一些动态效果，于是叫 Brendan Eich 这哥们在两周之内设计出了 JavaScript 语言。你没看错，这哥们只用了 10 天时间。</p>\n<h3 id=\"为什么起名叫javascript\"><a class=\"markdownIt-Anchor\" href=\"#为什么起名叫javascript\">#</a> 为什么起名叫 JavaScript？</h3>\n<p>原因是当时 Java 语言非常红火，所以当时网景公司希望借 Java 的名气来推广，但事实上 JavaScript 除了语法上有点像 Java，其他部分基本上没啥关系。</p>\n<h3 id=\"ecmascript简称es\"><a class=\"markdownIt-Anchor\" href=\"#ecmascript简称es\">#</a> ECMAScript (简称 ES)</h3>\n<p>因为网景开发了 JavaScript，一年后微软又模仿 JavaScript 开发了 JScript ，为了让 JavaScript 成为全球标准，几个公司联合 ECMA（European Computer Manufacturers Association）组织定制了 JavaScript 语言的标准，被称为<strong> ECMAScript 标准</strong>。</p>\n<p>所以简单说来就是，ECMAScript 是一种<strong>语言标准</strong>，而 JavaScript 是网景公司对 ECMAScript 标准的一种实现。</p>\n<p>那为什么不直接把 JavaScript 定为标准呢？因为 JavaScript 是网景的注册商标。</p>\n<p>不过大多数时候，我们还是用 JavaScript 这个词。如果你遇到 ECMAScript 这个词，简单把它替换为 JavaScript 就行了。</p>\n<h2 id=\"js的组成\"><a class=\"markdownIt-Anchor\" href=\"#js的组成\">#</a> JS 的组成</h2>\n<p>主要分为三部分：<strong>ECMAScript (核心)，DOM（文档对象模型），BOM（浏览器对象模型）。</strong></p>\n<p><img data-src=\"https://cdnjson.com/images/2023/07/25/1630548408392411.png\" alt=\"1630548408392411.png (500×210) (cdnjson.com)\"></p>\n<p><strong>ECMAScript——JavaScript 的核心</strong></p>\n<p>ECMAScript 是一套<strong>标准</strong>，定义了一种语言的标准，规定了基本语法、数据类型、关键字、具体 API 的设计规范等，解析引擎设计的参考标准，但与具体实现无关，是 JavaScript 的核心。</p>\n<p><strong>BOM—— 浏览器对象模型</strong></p>\n<p>BOM 是一套<strong>操作浏览器功能</strong>的 API，通过 BOM 可以操作浏览器窗口，比如：弹出框、控制浏览器跳转、获取分辨率等。</p>\n<p><strong>DOM—— 文档对象模型</strong></p>\n<p>DOM 是一套<strong>操作页面元素</strong>的 API，DOM 可以把 HTML 看做是文档树，通过 DOM 提供的 API 可以对树上的节点进行操作。</p>\n<p>更详细的可以看这篇文章：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vU2h5bm8vcC8xNTI2MjA5OS5odG1s\">js 的组成</span></p>\n<h2 id=\"js的使用方法\"><a class=\"markdownIt-Anchor\" href=\"#js的使用方法\">#</a> JS 的使用方法</h2>\n<p>HTML 中的 Javascript 脚本代码必须位于 <strong><script></strong> 与 <strong></script></strong> 标签之间。</p>\n<p>Javascript 脚本代码可被放置在 HTML 页面的 <strong><body></strong> 和 <strong><head></strong> 部分中。</p>\n<p>引入 JS 的方法:</p>\n<ul>\n<li>HTML 标签中内嵌 JS；</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;alert(&#x27;hello javascript&#x27;)&quot;</span>&gt;</span>点击me<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>HTML 页面中直接使用 JS：</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">        JS语句;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>引用外部 JS 文件 (推荐)：</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;JS文件路径&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"js注释\"><a class=\"markdownIt-Anchor\" href=\"#js注释\">#</a> JS 注释</h2>\n<p><strong>单行注释：</strong></p>\n<p>符号： <code>//</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 这是单行注释，会把这一行注释掉</span></span><br></pre></td></tr></table></figure>\n<p><strong>多行注释：</strong></p>\n<p>符号： <code>/* */</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t这是多行注释，在里面的代码和文字都会注释掉</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"变量\"><a class=\"markdownIt-Anchor\" href=\"#变量\">#</a> 变量</h2>\n<p>说了这么多，终于聊到 javascript 本身的语法了。</p>\n<p>JavaScript 的变量是<strong>弱类型</strong>的，就是用来保存任何类型的数据。<br>\n在定义变量的时候不需要指定变量的数据类型。</p>\n<p>JavaScript 定义变量有四种方法： <code>const</code> 、 <code>let</code> 、 <code>var</code>  以及直接定义:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">0</span>;<span class=\"comment\">// 老语法,已废弃</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">0</span>;<span class=\"comment\">// ES6新增语法</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"number\">0</span>;<span class=\"comment\">// ES6新增语法</span></span><br><span class=\"line\">d = <span class=\"number\">0</span>;<span class=\"comment\">// 不推荐</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"作用域\"><a class=\"markdownIt-Anchor\" href=\"#作用域\">#</a> 作用域</h3>\n<p>在继续了解变量之前，我们得先了解一下作用域这个概念。</p>\n<p>javascript 中分为<strong>全局作用域</strong>和<strong>局部作用域</strong>（又称为函数作用域 ）</p>\n<ul>\n<li>全局作用域在页面打开时创建，页面关闭时销毁</li>\n<li>局部作用域是在函数内创建的作用域，函数执行完毕，局部作用域会销毁</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">20</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 10</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 20</span></span><br><span class=\"line\"><span class=\"title function_\">fn</span>()</span><br></pre></td></tr></table></figure>\n<h3 id=\"var\"><a class=\"markdownIt-Anchor\" href=\"#var\">#</a> var</h3>\n<p>注：目前 <code>var</code>  声明已经弃用，基本采用 <code>let</code>  代替</p>\n<p>用于声明一个可变变量，因为是 “弱类型” 声明，该变量可以赋为任意值。var 声明初始化可以在分离也可以同时完成，但是要注意的是，在未赋值时，变量默认为 undefined。</p>\n<h4 id=\"var声明变量的特点\"><a class=\"markdownIt-Anchor\" href=\"#var声明变量的特点\">#</a> var 声明变量的特点</h4>\n<ul>\n<li>\n<p>如果 <code>var</code>  在全局作用域下，会挂载到 <code>window</code>  对象下面</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">a</span>)<span class=\"comment\">// 10</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><code>var</code>  的声明范围是函数作用域</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a = <span class=\"number\">15</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 15，以函数作用域的a为准</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 10</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a = <span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 20,块级作用域不起效果,a被重新赋值</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 20</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><code>var</code>  可以重复声明同一变量</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">20</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">30</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><strong>语法：</strong> <code>var 变量名 = 值</code></p>\n<h4 id=\"var-的变量提升\"><a class=\"markdownIt-Anchor\" href=\"#var-的变量提升\">#</a> var 的变量提升</h4>\n<p>以 var 为界以下到结束，为 var 声明变量的作用域，但函数体会自动提升到作用域顶层，变量可以先于声明语句调用。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 10</span></span><br></pre></td></tr></table></figure>\n<p>为什么 <code>var</code>  会有变量提升，这里就不得不聊到 js 的<strong>预解析</strong>了。</p>\n<h4 id=\"预解析\"><a class=\"markdownIt-Anchor\" href=\"#预解析\">#</a> 预解析</h4>\n<p>js 引擎运行 js 分为<strong>预解析</strong>和<strong>代码执行</strong>:</p>\n<ol>\n<li>\n<p>预解析会把所有的 <code>var</code>  和 <code>function</code>  提升到当前作用域的最前面<br>\n 2. 代码执行，从上到下执行<br>\n<strong>预解析</strong>分为<strong>变量预解析</strong>和<strong>函数预解析</strong>:</p>\n</li>\n<li>\n<p>变量预解析 把所有<strong>变量声明</strong>提升到当前作用域的最前面，<strong>不提升变量赋值</strong>操作<br>\n 2. 函数提升，把所有的<strong>函数声明</strong>提升到当前作用域的最前面，<strong>不调用函数</strong></p>\n</li>\n</ol>\n<h3 id=\"letes6\"><a class=\"markdownIt-Anchor\" href=\"#letes6\">#</a> let(ES6)</h3>\n<p><code>let</code>  用法和 <code>var</code>  很相似，初学者只需要记住这 3 点区别：</p>\n<ul>\n<li>\n<p><code>var</code>  声明范围是函数作用域， <code>let</code>  声明范围是块级作用域</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> a = <span class=\"number\">15</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 15，以函数作用域的a为准</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 10</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> a = <span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 20,以块级作用域的a为准</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)<span class=\"comment\">// 10,块级作用域定义的a不影响全局的a</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>全局作用域下， <code>var</code>  变量会指向 <code>window</code> , 而 <code>let</code>  变量只会指向变量本身</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">a</span>)<span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><code>var</code>  可以重复声明同一变量，但是 <code>let</code>  不能</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">20</span>;<span class=\"comment\">// Uncaught SyntaxError: Identifier &#x27;a&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"constes6\"><a class=\"markdownIt-Anchor\" href=\"#constes6\">#</a> const(ES6)</h3>\n<p>const 声明一个常量，常量不可修改，即无法被重新赋值，并且常量声明时<strong>必须初始化</strong>。</p>\n<h2 id=\"javascript-六大基本数据类型\"><a class=\"markdownIt-Anchor\" href=\"#javascript-六大基本数据类型\">#</a> JavaScript 六大基本数据类型</h2>\n<p>js 中有六大数据类型，包括五种基本数据类型 <code>number</code> 、 <code>boolean</code> 、 <code>null</code> 、 <code>undefiined</code> 、 <code>string</code>  和复杂数据类型 <code>object</code></p>\n<h3 id=\"number-数值型\"><a class=\"markdownIt-Anchor\" href=\"#number-数值型\">#</a> Number - 数值型</h3>\n<p>JS 不像 C/C++、Java、Python 等语言严格区分出浮点型和整型，JS 会根据声明情况及运算调整精度位，浮点数和整数都归入数值型数据。</p>\n<p>JS 里面数字型还有几个特殊的值：</p>\n<p><code>Infinity</code>  表示无穷大  <code>-Infinity</code>  无穷小  <code>NaN</code>  表示非数字的</p>\n<p><code>NaN</code>  是执行数学运算没有成功，返回失败的结果，它不是一个数字，并且<strong> NaN 不等于 NaN</strong>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"title class_\">Number</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> c = <span class=\"number\">2.333</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b);<span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(c);<span class=\"comment\">// 2.333</span></span><br><span class=\"line\"><span class=\"comment\">// typeof 变量，返回这个变量的类型名字符串</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> a);<span class=\"comment\">// number</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> b);<span class=\"comment\">// number</span></span><br><span class=\"line\"><span class=\"comment\">// Number.MAX_VALUE表示最大值，Infinity表示无穷大 -Infinity无穷小</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">Infinity</span>);<span class=\"comment\">// number</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">NaN</span>);<span class=\"comment\">// number</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"string-字符串型\"><a class=\"markdownIt-Anchor\" href=\"#string-字符串型\">#</a> String - 字符串型</h3>\n<p>JS 中不对字符串的长度做约束，可以声明空字符串。</p>\n<p>创建一个字符串：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> str = <span class=\"string\">&quot;&quot;</span> <span class=\"comment\">// 字符串既可以使用双引号&quot;&quot;包裹，也可以使用单引号&#x27;&#x27;包裹</span></span><br><span class=\"line\"><span class=\"comment\">// typeof 变量，返回这个变量的类型名字符串</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> str)<span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str1 = <span class=\"string\">&#x27;123&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> str1)<span class=\"comment\">// string</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"boolean-布尔型\"><a class=\"markdownIt-Anchor\" href=\"#boolean-布尔型\">#</a> Boolean - 布尔型</h3>\n<p>布尔型表示变量的真值，只有 <code>true</code>  和 <code>false</code>  两种状态。</p>\n<p>创建一个布尔值：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> boolTrue = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> boolFalse = <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> boolTrue)<span class=\"comment\">// boolean</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"null-空类型\"><a class=\"markdownIt-Anchor\" href=\"#null-空类型\">#</a> null - 空类型</h3>\n<p>空类型，顾名思义，没有类型指向。</p>\n<p>创建一个空类型：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"literal\">null</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> a)<span class=\"comment\">// object</span></span><br></pre></td></tr></table></figure>\n<p>我们看到上面的代码可以发现一个问题， <code>typeof a</code>  返回的是 <code>object</code>  (对象类型)，但按理来说应该返回 <code>null</code>  才对，为什么会返回 <code>object</code>  呢？</p>\n<p>这是由于 JS 的一个无法修复的历史错误导致的，我们无法去改变它，那我们该如何判断一个值是否是 <code>null</code>  类型的呢？</p>\n<p>在 JS 里面是通过 <code>===</code>  严格相等运算符进行判断的：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"literal\">null</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(a === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;是null类型&#x27;</span>);</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;不是null类型&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>大家可以自行利用搜索工具查找答案。</p>\n<h3 id=\"undefined-未定义\"><a class=\"markdownIt-Anchor\" href=\"#undefined-未定义\">#</a> undefined  - 未定义</h3>\n<p>创建一个 undefined 类型:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"keyword\">let</span> hhh;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(hhh);  <span class=\"comment\">//undefined</span></span><br></pre></td></tr></table></figure>\n<p>注： <code>undefined</code>  比较特殊，不是 JS 里面的关键字，而是全局对象 <code>window</code>  上面的一个属性，这意味着它是可以做变量名的，但一般肯定不会这么做。</p>\n<h3 id=\"object-对象类型\"><a class=\"markdownIt-Anchor\" href=\"#object-对象类型\">#</a> Object - 对象类型</h3>\n<p><strong>对象成员</strong></p>\n<p>ECMAScript 中的对象是一组数据和功能的集合，集合内容可以是键值对也可以是函数。</p>\n<p>在 javascript 中，数组（Array）与函数（function）都是特殊的<strong>对象</strong>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1.通过new Object()创建对象</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();</span><br><span class=\"line\"><span class=\"comment\">// 2.通过&#123;&#125;创建对象，等同于 new Object();</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj2 = &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// 3.使用字面量创建对象</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;zhang&#x27;</span>, <span class=\"attr\">age</span>:<span class=\"number\">20</span>&#125;</span><br><span class=\"line\"><span class=\"comment\">// 4.使用工厂模式创建对象</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createObject</span>(<span class=\"params\">name</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();</span><br><span class=\"line\">            o.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">            o.<span class=\"property\">sayName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> o;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> o1 = <span class=\"title function_\">createObject</span>(<span class=\"string\">&#x27;zhang&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> o2 = <span class=\"title function_\">createObject</span>(<span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// 5.通过原型+构造函数的方式创建对象</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Animal</span>(<span class=\"params\">name</span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">friends</span> = [<span class=\"string\">&#x27;dog&#x27;</span>,<span class=\"string\">&#x27;cat&#x27;</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"title class_\">Animal</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">sayName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Animal</span>(<span class=\"string\">&#x27;d&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Animal</span>(<span class=\"string\">&#x27;c&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj3 = []</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj4 = <span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> obj2)<span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> obj3)<span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> obj4)<span class=\"comment\">// function,函数这种对象被单列了出来</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"数据类型转换\"><a class=\"markdownIt-Anchor\" href=\"#数据类型转换\">#</a> 数据类型转换</h2>\n<h3 id=\"转换成字符串型\"><a class=\"markdownIt-Anchor\" href=\"#转换成字符串型\">#</a> 转换成字符串型</h3>\n<ul>\n<li>toString () 转换为字符串</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> str = num.<span class=\"title function_\">toString</span>();</span><br></pre></td></tr></table></figure>\n<ul>\n<li>String () 强制转换成字符串</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"title class_\">String</span>(num);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>加号拼接字符串</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> str = num + <span class=\"string\">&#x27;&#x27;</span>;<span class=\"comment\">// 隐式转换,字符串+任何类型=拼接之后的字符串</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"转换成数字型\"><a class=\"markdownIt-Anchor\" href=\"#转换成数字型\">#</a> 转换成数字型</h3>\n<ul>\n<li>\n<p><code>parselnt(string)</code>  函数\t将 string 转换为整数数值型</p>\n</li>\n<li>\n<p><code>parseFloat(string)</code>  函数\t将 string 转换为浮点数数值型</p>\n</li>\n<li>\n<p><code>Number()</code>  强制转换函数\t将 string 转换为数值型</p>\n</li>\n<li>\n<p>js 隐形转换 (- , * , /)</p>\n</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"string\">&#x27;12&#x27;</span> - <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"string\">&#x27;12&#x27;</span> * <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"string\">&#x27;12&#x27;</span> / <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"转换boolean型\"><a class=\"markdownIt-Anchor\" href=\"#转换boolean型\">#</a> 转换 boolean 型</h3>\n<p><code>Boolean()</code>  函数  代表空的，否定的值都会被转换成 <code>false</code>  如 &quot;&quot;, 0 , NaN , null , undefined 其余转换为 <code>true</code></p>\n<h3 id=\"数组转换成字符串\"><a class=\"markdownIt-Anchor\" href=\"#数组转换成字符串\">#</a> 数组转换成字符串</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">toString</span>())<span class=\"comment\">// 输出 &quot;1,2,3&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// join(分隔符);</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">join</span>())<span class=\"comment\">// &quot;1,2,3&quot; 默认逗号分隔</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"字符串转数组\"><a class=\"markdownIt-Anchor\" href=\"#字符串转数组\">#</a> 字符串转数组</h3>\n<p><code>split(分隔符,最大返回值)</code>  方法用于把一个字符串分割成字符串数组。<br>\n第一个参数表示用什么进行分割，第二个参数表示最大返回几个值</p>\n<h2 id=\"javascript里面的数组\"><a class=\"markdownIt-Anchor\" href=\"#javascript里面的数组\">#</a> Javascript 里面的数组</h2>\n<h3 id=\"创建数组的方式\"><a class=\"markdownIt-Anchor\" href=\"#创建数组的方式\">#</a> 创建数组的方式</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1.Array()构造函数,但它不能创建只有一个数组元素的数组</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>();</span><br><span class=\"line\"><span class=\"comment\">// 2.数组字面量创建数组</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr=[];</span><br><span class=\"line\"><span class=\"comment\">// 3.扩展运算符(ES6)</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> original = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"keyword\">let</span> copy = [...original]</span><br><span class=\"line\"><span class=\"comment\">// 4.Array.of()</span></span><br><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"title function_\">of</span>() <span class=\"comment\">//=&gt;[]</span></span><br><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"title function_\">of</span>(<span class=\"number\">4</span>) <span class=\"comment\">//=&gt;[4]</span></span><br><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"title function_\">of</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>) <span class=\"comment\">//=&gt;[1,2,3,4]</span></span><br><span class=\"line\"><span class=\"comment\">// 5.Array.from() 将伪数组转为真数组</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> trueArray = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(arraylike)</span><br></pre></td></tr></table></figure>\n<p>数组里面可以放任意的数据类型<br>\n数组名.length 获取数组长度</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"property\">length</span>)<span class=\"comment\">// 4</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"变长数组\"><a class=\"markdownIt-Anchor\" href=\"#变长数组\">#</a> 变长数组</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">arr.<span class=\"property\">length</span> = <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// arr就变成了包含5个元素的数组</span></span><br><span class=\"line\"><span class=\"comment\">// 还有种方法</span></span><br><span class=\"line\">arr[<span class=\"number\">3</span>] = <span class=\"number\">4</span>;</span><br><span class=\"line\"><span class=\"comment\">// arr就包含4个元素</span></span><br></pre></td></tr></table></figure>\n<p><code>instanceof</code>  运算符 可以检测是否为数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)<span class=\"comment\">// 返回true 或 false</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"数组常用方法\"><a class=\"markdownIt-Anchor\" href=\"#数组常用方法\">#</a> 数组常用方法</h3>\n<p><strong>Array.isArray (参数)</strong></p>\n<ol>\n<li>\n<p><strong>push()</strong> 添加或删除数组元素：<br>\n在数组末尾添加一个或多个数组元素</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>]</span><br><span class=\"line\">arr.<span class=\"title function_\">push</span>(<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>);<span class=\"comment\">// 返回数组的长度</span></span><br><span class=\"line\"><span class=\"comment\">//[1,4,5,6]</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>unshift</strong> 在数组开头添加一个或者多个数组的元素</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>]</span><br><span class=\"line\">arr.<span class=\"title function_\">unshift</span>(<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>);<span class=\"comment\">// 返回数组的长度</span></span><br><span class=\"line\"><span class=\"comment\">// [4,5,6,1]</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>pop</strong> 删除数组的最后一个元素</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>]</span><br><span class=\"line\">arr.<span class=\"title function_\">pop</span>();<span class=\"comment\">// 返回删除的元素</span></span><br><span class=\"line\"><span class=\"comment\">// [1]</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>shift</strong> 删除数组的第一个元素</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>]</span><br><span class=\"line\">arr.<span class=\"title function_\">shift</span>();<span class=\"comment\">// 返回删除的元素</span></span><br><span class=\"line\"><span class=\"comment\">// [2]</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>**arr.concat ( )** 方法用于合并两个或多个数组。此方法不会更改现有数组，返回值是一个新数组。</p>\n</li>\n<li>\n<p>**splice ()** 可以执行删除，插入，和替换</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 删除</span></span><br><span class=\"line\">  array.<span class=\"title function_\">splice</span>(<span class=\"number\">0</span>,<span class=\"number\">1</span>);    <span class=\"comment\">// 从索引为0开始删除1项</span></span><br><span class=\"line\">  <span class=\"comment\">// 插入</span></span><br><span class=\"line\"><span class=\"title function_\">splice</span>(开始位置，<span class=\"number\">0</span>（删除<span class=\"number\">0</span>项），插入元素）</span><br><span class=\"line\"><span class=\"comment\">//替换</span></span><br><span class=\"line\"><span class=\"title function_\">splice</span>(开始位置，<span class=\"number\">1</span>（删除<span class=\"number\">1</span>项），插入元素）</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>slice 截取任意元素，返回截取后的新数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>, <span class=\"string\">&#x27;e&#x27;</span>, <span class=\"string\">&#x27;f&#x27;</span>];</span><br><span class=\"line\">arr.<span class=\"title function_\">slice</span>(); <span class=\"comment\">// 无参数时，截取所有的元素。</span></span><br><span class=\"line\">arr.<span class=\"title function_\">slice</span>(<span class=\"number\">2</span>); <span class=\"comment\">// 从下标2开始提取，直到末尾</span></span><br><span class=\"line\">arr.<span class=\"title function_\">slice</span>(-<span class=\"number\">2</span>); <span class=\"comment\">// 提取最后两个元素 负数会将其与长度相加，-2+6=4</span></span><br><span class=\"line\">arr.<span class=\"title function_\">slice</span>(<span class=\"number\">2</span>, <span class=\"number\">4</span>); <span class=\"comment\">// 提取从下标2到下标4之间的元素（不包括下标4元素）</span></span><br><span class=\"line\">arr.<span class=\"title function_\">slice</span>(<span class=\"number\">4</span>, <span class=\"number\">2</span>); <span class=\"comment\">// 空</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>**arr.forEach ( )** 方法用于调用数组的每一个元素，并将元素传递给回调函数。这个方法没有返回值。<br>\n第一个参数代表当前遍历的数组元素，第二个参数代表该数组元素在数组中的索引（把索引值返回当前遍历数组），第三个参数代表被遍历的数组。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">value, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value,index,arr);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>**arr.filter ( )** 方法用于对数组进行过滤。它创建一个新数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。返回新数组。<br>\n同样需要接受三个参数，和 forEach 相同。这里由于不需要其他参数，只传入第一个参数。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> array = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">id</span>: <span class=\"number\">1</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;js数组方法1&#x27;</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">id</span>: <span class=\"number\">2</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;js数组方法2&#x27;</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">id</span>: <span class=\"number\">3</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;js数组方法3&#x27;</span> &#125;</span><br><span class=\"line\">]</span><br><span class=\"line\"><span class=\"keyword\">let</span> res = array.<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (item.<span class=\"property\">id</span> == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> item</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res) <span class=\"comment\">// [&#123; id: 1, title:&#x27;js数组方法1&#x27; &#125;]</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>**arr.map ()** 方法返回一个新的数组，数组中的元素为原始数组调用函数处理后的值，也就是 map () 方法进行处理之后返回一个新的数组。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">10.</span> <span class=\"keyword\">let</span> array = [</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">1</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;js数组方法1&#x27;</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">2</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;js数组方法2&#x27;</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">3</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;js数组方法3&#x27;</span> &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> res = array.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item.<span class=\"property\">id</span> );</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res); <span class=\"comment\">// [1,2,3]</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>翻转数组函数：<br>\n<strong>arr.reverse();</strong></p>\n</li>\n<li>\n<p>排序函数：<br>\n比较的是字符串，没有按照数值的大小对数字进行排序，传入的若是数组，会先转化为字符串再排序。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr.<span class=\"title function_\">sort</span>(<span class=\"keyword\">function</span>(<span class=\"params\">a,b</span>)&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a-b;<span class=\"comment\">//升序顺序排列，b-a为降序排列</span></span><br><span class=\"line\">\t<span class=\"comment\">//如果a &gt; b返回正值，sort会进行交换，负值则不进行</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>arr.some ( )** 方法用于检测数组中的元素是否满足指定条件，如果有一个元素满足条件，则表达式返回 true ,<br>\n 剩余的元素不会再执行检测。如果没有满足条件的元素，则返回 false。</p>\n<p>**arr.every ( )** 方法方法用于检测数组所有元素是否都符合指定条件。如果数组中检测到有一个元素不满足，<br>\n则整个表达式返回 false，且剩余的元素不会再进行检测。如果所有元素都满足条件，则返回 true。</p>\n</li>\n<li>\n<p>**arr.findIndex ( )** 方法返回数组中满足条件的第一个元素的索引（下标）, 如果没有找到，返回 - 1。<br>\n**arr.find ( )** 方法返回数组中满足条件的第一个元素的值，如果没有，返回 undefined。</p>\n</li>\n<li>\n<p>数组索引方法：<br>\n<strong>indexOf()</strong> 返回指定元素的索引号 (只返回第一个满足条件的索引号)，没有返回 - 1</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;blue&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<p><strong>lastindexOf()</strong> 返回指定元素的索引号（从右向左查找）没有返回 - 1</p>\n</li>\n</ol>\n<h3 id=\"伪数组\"><a class=\"markdownIt-Anchor\" href=\"#伪数组\">#</a> 伪数组</h3>\n<h4 id=\"何为伪数组\"><a class=\"markdownIt-Anchor\" href=\"#何为伪数组\">#</a> 何为伪数组？</h4>\n<p>如果一个对象的所有键名都是<strong>正整数或零</strong>，并且有<strong> length 属性</strong>，那么这个对象就很像数组，语法上称为 **“类似数组的对象”<strong>(array-like object), 即为</strong>伪数组 **。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\"><span class=\"number\">0</span>: <span class=\"string\">&#x27;a&#x27;</span>,</span><br><span class=\"line\"><span class=\"number\">1</span>: <span class=\"string\">&#x27;b&#x27;</span>,</span><br><span class=\"line\"><span class=\"number\">2</span>: <span class=\"string\">&#x27;c&#x27;</span>,</span><br><span class=\"line\"><span class=\"attr\">length</span>: <span class=\"number\">3</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">obj[<span class=\"number\">0</span>] <span class=\"comment\">// &#x27;a&#x27;</span></span><br><span class=\"line\">obj[<span class=\"number\">1</span>] <span class=\"comment\">// &#x27;b&#x27;</span></span><br><span class=\"line\">obj.<span class=\"property\">length</span> <span class=\"comment\">// 3</span></span><br><span class=\"line\">obj.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;d&#x27;</span>) <span class=\"comment\">// TypeError: obj.push is not a function</span></span><br></pre></td></tr></table></figure>\n<p>上面代码中，对象 obj 就是一个类似数组的对象。但是 “类似数组的对象” 并不是数组，因为它们不具备数组特有的方法。对象 obj 没有数组的 push 方法，使用该方法就会报错。</p>\n<h4 id=\"有哪些是伪数组\"><a class=\"markdownIt-Anchor\" href=\"#有哪些是伪数组\">#</a> 有哪些是伪数组？</h4>\n<p>典型的 “类似数组的对象” 是函数的 <code>arguments</code>  对象，以及大多数 DOM 元素集，还有字符串。</p>\n<h2 id=\"javascript里面的函数\"><a class=\"markdownIt-Anchor\" href=\"#javascript里面的函数\">#</a> Javascript 里面的函数</h2>\n<p>JS 中的函数是一种特殊的<strong>对象</strong>，可以存储在 Object 类型数据内，也是最常用的对象。</p>\n<h3 id=\"创建函数的方式\"><a class=\"markdownIt-Anchor\" href=\"#创建函数的方式\">#</a> 创建函数的方式</h3>\n<h4 id=\"通过function创建函数\"><a class=\"markdownIt-Anchor\" href=\"#通过function创建函数\">#</a> 通过 <code>function</code>  创建函数</h4>\n<p 函数体=\"\">语法：function 函数名 (参数 1，参数 2)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\">参数</span>) &#123;</span><br><span class=\"line\">    js语句;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"通过变量方式创建函数\"><a class=\"markdownIt-Anchor\" href=\"#通过变量方式创建函数\">#</a> 通过变量方式创建函数</h4>\n<p 函数体=\"\">语法：let/const 变量 = function (参数 1，参数 2)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> fn = <span class=\"keyword\">function</span> (<span class=\"params\">参数</span>) &#123;&#125; <span class=\"comment\">// function (参数) &#123;&#125;，也是匿名函数的语法</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"箭头函数es6\"><a class=\"markdownIt-Anchor\" href=\"#箭头函数es6\">#</a> 箭头函数 (ES6)</h4>\n<p 函数体=\"\">语法：let/const 变量 = (参数 1，参数 2)=&gt;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title function_\">fn</span> = (<span class=\"params\"></span>) =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"new-function创建函数\"><a class=\"markdownIt-Anchor\" href=\"#new-function创建函数\">#</a>  <code>new Function()</code>  创建函数</h4>\n<p>语法：let/const 变量 = new Function (参数 1，参数 2,…, 返回值);         (不常用，过多影响性能)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> fn = <span class=\"keyword\">new</span> <span class=\"title class_\">Function</span>(<span class=\"string\">&quot;num1&quot;</span>,<span class=\"string\">&quot;num2&quot;</span>,<span class=\"string\">&quot;return num1+num2&quot;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fn</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>))<span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"函数传参个数不同会造成的影响\"><a class=\"markdownIt-Anchor\" href=\"#函数传参个数不同会造成的影响\">#</a> 函数传参个数不同会造成的影响</h3>\n<ul>\n<li>实参个数等于形参，正常输出结果</li>\n<li>实参个数多余形参，会取到形参的个数</li>\n<li>实参个数小于形参，多余的形参定义为 <code>undefined</code></li>\n</ul>\n<p>当不确定有多少个参数传递时，可通过 <code>arguments</code>  获取</p>\n<p>所有函数都内置了 <code>arguments</code> ， <code>arguments</code>  里面有传所有的实参</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">arguments</span>);<span class=\"comment\">//存储了所有传递过来的实参</span></span><br><span class=\"line\">    <span class=\"comment\">// arguments [1,2,3]</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>);</span><br></pre></td></tr></table></figure>\n<p><code>arguments</code>  展示是一个伪数组，并不是真的意义上的数组，具有数组的 length 属性，按照索引方式进行存储，它没有真的数组的一些方法</p>\n<h3 id=\"函数的属性\"><a class=\"markdownIt-Anchor\" href=\"#函数的属性\">#</a> 函数的属性</h3>\n<p>每个函数都有两个属性，length 和 prototype , 符合对象的要求。</p>\n<p>length 表示函数形参的个数。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> fn = <span class=\"keyword\">function</span> (<span class=\"params\">a,b</span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(fn.<span class=\"property\">length</span>)<span class=\"comment\">// 2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"构造函数\"><a class=\"markdownIt-Anchor\" href=\"#构造函数\">#</a> 构造函数</h3>\n<p>JavaScript 语言使用构造函数（constructor）作为对象的模板。<strong>所谓” 构造函数”，就是专门用来生成实例对象的函数</strong>。它就是对象的模板，描述实例对象的基本结构。</p>\n<p>一个构造函数，可以生成多个实例对象，这些实例对象都有相同的结构。都可以使用这个构造函数的属性与方法。</p>\n<h4 id=\"构造函数的书写\"><a class=\"markdownIt-Anchor\" href=\"#构造函数的书写\">#</a> 构造函数的书写</h4>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">           <span class=\"variable language_\">this</span>.<span class=\"property\">name</span>=<span class=\"string\">&#x27;Jack&#x27;</span></span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<p>上面代码中， <code>Person</code>  就是构造函数。</p>\n<p>为了与普通函数区别，构造函数名字的第一个字母通常大写。<br>\n构造函数的特点有两个:</p>\n<ol>\n<li>函数体内部使用了 this 关键字，代表了所要生成的对象实例。</li>\n<li>生成对象的时候，必须使用 new 命令</li>\n</ol>\n<p><code>new</code>  命令的作用，就是执行构造函数，返回一个实例对象</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj);</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://cdnjson.com/images/2023/07/25/QQ20230725013000.png\" alt=\"QQ20230725013000.png (407×136) (cdnjson.com)\"></p>\n<h2 id=\"javascript输入输出语句\"><a class=\"markdownIt-Anchor\" href=\"#javascript输入输出语句\">#</a> JavaScript 输入输出语句</h2>\n<p>比较常用的有这些：</p>\n<ul>\n<li>\n<p><strong>prompt()</strong> 浏览器弹出输入框，用户可输入</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = <span class=\"title function_\">prompt</span>(<span class=\"string\">&quot;请输入一个数字&quot;</span>)<span class=\"comment\">// 返回输入结果的字符串</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://cdnjson.com/images/2023/07/24/Snipaste_2023-07-24_02-42-02.png\" alt=\"Snipaste_2023-07-24_02-42-02.png (785×304) (cdnjson.com)\"></p>\n</li>\n<li>\n<p><strong>window.alert()</strong> 弹出警告框。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;hello js&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://cdnjson.com/images/2023/07/24/Snipaste_2023-07-24_01-20-04.png\" alt=\"Snipaste_2023-07-24_01-20-04.png (722×272) (cdnjson.com)\"></p>\n</li>\n<li>\n<p><strong>console.log()</strong> 写入到浏览器的控制台。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">10</span>) <span class=\"comment\">// 10</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://cdnjson.com/images/2023/07/24/Snipaste_2023-07-24_01-23-08.png\" alt=\"Snipaste_2023-07-24_01-23-08.png (875×291) (cdnjson.com)\"></p>\n</li>\n<li>\n<p>使用 <strong>confirm ()</strong> 函数来弹出一个对话框，并且返回一个 boolean 值</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"title function_\">confirm</span>(<span class=\"string\">&quot;111&quot;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);<span class=\"comment\">// 确定为true, 取消为false</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://cdnjson.com/images/2023/07/24/Snipaste_2023-07-24_01-26-26.png\" alt=\"Snipaste_2023-07-24_01-26-26.png (632×207) (cdnjson.com)\"></p>\n</li>\n</ul>\n<p><strong>下面大部分内容与 C 语言基础类似，供大一上还没有开 C 语言课的专业同学学习</strong></p>\n<h2 id=\"javascript程序结构设计\"><a class=\"markdownIt-Anchor\" href=\"#javascript程序结构设计\">#</a> JavaScript 程序结构设计</h2>\n<h4 id=\"顺序结构\"><a class=\"markdownIt-Anchor\" href=\"#顺序结构\">#</a> <strong>顺序结构</strong></h4>\n<p><strong>赋值语句</strong></p>\n<p>变量名 = 表达式；</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a, b;</span><br><span class=\"line\">     a = <span class=\"number\">1</span>;                  <span class=\"comment\">//单赋值</span></span><br><span class=\"line\">     a = b = <span class=\"number\">1</span>;            <span class=\"comment\">//传递赋值</span></span><br><span class=\"line\">     (&#123;a, b&#125; = &#123;<span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span>&#125;);<span class=\"comment\">//无声明赋值</span></span><br></pre></td></tr></table></figure>\n<p><strong>返回语句</strong></p>\n<ul>\n<li>在使用 return 语句时，函数会停止执行，并返回指定的值</li>\n<li>如果函数没有 return ，返回的值是 undefined</li>\n<li>返回值可以是六种基本数据类型，也可以是函数，但只能返回一条表达式。</li>\n</ul>\n<h4 id=\"选择结构\"><a class=\"markdownIt-Anchor\" href=\"#选择结构\">#</a> <strong>选择结构</strong></h4>\n<p><strong>if-else 分支语句</strong></p>\n<ul>\n<li>\n<p>if 语句</p>\n</li>\n<li>\n<pre><code class=\"language-JavaScript\">      if (condition) &#123;\n          当条件为 true 时执行的代码\n      &#125;\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">- if-else语句</span><br><span class=\"line\">- ```JavaScript</span><br><span class=\"line\">  if (condition)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            当条件为 true 时执行的代码</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        else</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            当条件不为 true 时执行的代码</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n</code></pre>\n</li>\n<li>\n<p>if-else-else if 语句</p>\n</li>\n<li>\n<pre><code class=\"language-JavaScript\">       if (condition1)\n      &#123;\n          当条件1为 true 时执行的代码\n      &#125;\n      else  if (condition2)\n      &#123;\n          当条件2为 true 时执行的代码\n      &#125;\n      else\n      &#123;\n          当条件1、2不为 true 时执行的代码\n      &#125;\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">**switch-case分支语句**</span><br><span class=\"line\"></span><br><span class=\"line\">```js</span><br><span class=\"line\">switch(n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            case 1:</span><br><span class=\"line\">                执行代码块 1</span><br><span class=\"line\">                break;</span><br><span class=\"line\">            case 2:</span><br><span class=\"line\">                执行代码块 2</span><br><span class=\"line\">                break;</span><br><span class=\"line\">            default:</span><br><span class=\"line\">                与 case 1 和 case 2 不同时执行的代码</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n\n</code></pre>\n</li>\n</ul>\n<h4 id=\"循环结构\"><a class=\"markdownIt-Anchor\" href=\"#循环结构\">#</a> <strong>循环结构</strong></h4>\n<ul>\n<li>for 循环</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Lanshan!&quot;</span>)</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>for-in 循环</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"> <span class=\"comment\">//使用for-in遍历获得索引序号</span></span><br><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> item <span class=\"keyword\">in</span> arr) &#123;</span><br><span class=\"line\">     <span class=\"comment\">//打印数组索引（数组的索引就是对象的键名）</span></span><br><span class=\"line\">     <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item);  <span class=\"comment\">//0  //1  //2</span></span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>for-of 循环</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\">     <span class=\"comment\">//使用for-of遍历获取元素</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> arr) &#123;</span><br><span class=\"line\">         <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item);  <span class=\"comment\">//a  //b  //c</span></span><br><span class=\"line\">     &#125;  </span><br></pre></td></tr></table></figure>\n<ul>\n<li>while 循环</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">i = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (i&lt;<span class=\"number\">5</span>)&#123;</span><br><span class=\"line\">        i++;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Lanshan!&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>do-while 循环</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span>&#123;  </span><br><span class=\"line\">      i++;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Lanshan!&quot;</span>)</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i&lt;<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>break 和 continue</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">while</span> (i&lt;<span class=\"number\">10</span>)&#123;</span><br><span class=\"line\">    i++;</span><br><span class=\"line\">     <span class=\"keyword\">if</span>(i==<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(i==<span class=\"number\">8</span>)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>break 语句用于跳出循环。</p>\n<p>continue 用于跳过循环中的一个迭代。</p>\n<h4 id=\"函数递归\"><a class=\"markdownIt-Anchor\" href=\"#函数递归\">#</a> <strong>函数递归</strong></h4>\n<h5 id=\"什么是递归\"><a class=\"markdownIt-Anchor\" href=\"#什么是递归\">#</a> 什么是递归？</h5>\n<ul>\n<li>如果一个函数在内部可以调用其本身，那么这个函数就是递归函数。简单理解：函数内部自己调用自己，这个函数就是递归函数。</li>\n<li>递归函数是一种高阶函数，后续课程会再展开。</li>\n</ul>\n<p>基本结构:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fun</span>(<span class=\"params\">n</span>)&#123;</span><br><span class=\"line\">       <span class=\"title function_\">fun</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fun</span>());  </span><br></pre></td></tr></table></figure>\n<h4 id=\"函数嵌套\"><a class=\"markdownIt-Anchor\" href=\"#函数嵌套\">#</a> <strong>函数嵌套</strong></h4>\n<h5 id=\"什么是嵌套\"><a class=\"markdownIt-Anchor\" href=\"#什么是嵌套\">#</a> 什么是嵌套？</h5>\n<ul>\n<li>\n<p>如果一个函数在内部定义或者调用了其他函数，叫做嵌套函数，JS 中允许多个函数的嵌套。</p>\n</li>\n<li>\n<p>基本结构:</p>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> x = <span class=\"number\">1</span>;</span><br><span class=\"line\">          <span class=\"keyword\">function</span> <span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">              <span class=\"keyword\">var</span> y =  x + <span class=\"number\">1</span>;</span><br><span class=\"line\">              <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(y);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"函数闭包\"><a class=\"markdownIt-Anchor\" href=\"#函数闭包\">#</a> <strong>函数闭包</strong></h4>\n<h5 id=\"什么是闭包\"><a class=\"markdownIt-Anchor\" href=\"#什么是闭包\">#</a> 什么是闭包？</h5>\n<ul>\n<li>当一个函数的<strong>返回值</strong>是<strong>另外一个函数</strong>，而返回的那个函数如果调用了其<strong>父函数内部的其它变量</strong>，如果返回的这个函数<strong>在外部被执行</strong>，就产生了闭包</li>\n</ul>\n<h5 id=\"函数闭包的特点\"><a class=\"markdownIt-Anchor\" href=\"#函数闭包的特点\">#</a> 函数闭包的特点</h5>\n<ul>\n<li>引用了外部的函数的作用域。</li>\n<li>可以创建私有作用域和私有变量，且不会被回收内存。</li>\n</ul>\n<h5 id=\"与正常函数的区别\"><a class=\"markdownIt-Anchor\" href=\"#与正常函数的区别\">#</a> 与正常函数的区别</h5>\n<p>​     正常情况下，当一个函数调用结束后，函数内部定义的变量占用的内存会被清理掉，</p>\n<p>而当函数内部存在闭包函数时，且在函数执行完，闭包函数在外部被使用的时候，那么在外部函数调用结束之后，由于闭包函数引用了外部函数的作用域，所以外部函数的作用域会一直在内存中，不会被处理掉。</p>\n<h5 id=\"闭包的弊端\"><a class=\"markdownIt-Anchor\" href=\"#闭包的弊端\">#</a> 闭包的弊端</h5>\n<p>​     - 容易导致内存泄露</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96%E4%B8%8E%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81/",
            "url": "http://example.com/2023/05/04/Javascript/%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96%E4%B8%8E%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81/",
            "title": "函数防抖与函数节流",
            "date_published": "2023-05-04T12:49:24.304Z",
            "content_html": "<p>** 作用：** 函数节流和函数防抖两个都是优化高频率执行 js 代码的一种手段。</p>\n<h2 id=\"含义\"><a class=\"markdownIt-Anchor\" href=\"#含义\">#</a> 含义</h2>\n<p>** 函数节流：** 在一定时间内 js 方法只跑一次 (比如人的眨眼睛，就是一定时间内眨一次)。这是函数节流最形象的解释；<br>\n** 函数防抖：** 指频繁触发的情况下，只有足够的空闲时间，才执行代码一次 (比如生活中的坐公交，就是一定时间内，如果有人陆续刷卡上车，司机就不会开车。只有别人没刷卡了，司机才开车)；</p>\n<h2 id=\"防抖函数的实现\"><a class=\"markdownIt-Anchor\" href=\"#防抖函数的实现\">#</a> 防抖函数的实现</h2>\n<p>核心逻辑：下一次防抖函数的调用会清除上一次防抖函数调用所启用的定时器，</p>\n<p>​\t\t\t\t\t所以只有留出一定的时间才会执行该代码一次，在定时器里面调用函数</p>\n<h3 id=\"非立即执行\"><a class=\"markdownIt-Anchor\" href=\"#非立即执行\">#</a> 非立即执行</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 防抖函数，非立即执行版本</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">AntiShake</span> (fn,time = <span class=\"number\">50</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;<span class=\"comment\">// args是fn里面的参数</span></span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(timer)<span class=\"comment\">// 清除之前的定时器</span></span><br><span class=\"line\">        timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>,args)<span class=\"comment\">// 通过apply方法保证fn里面的this指向自身</span></span><br><span class=\"line\">     &#125;,time)</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"立即执行\"><a class=\"markdownIt-Anchor\" href=\"#立即执行\">#</a> 立即执行</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 防抖函数，立即执行版本</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">func, wait = <span class=\"number\">50</span></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> flag = <span class=\"literal\">true</span><span class=\"comment\">// 判断是否执行</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\"> \t\t<span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\"> \t\t<span class=\"keyword\">if</span>(flag) &#123;</span><br><span class=\"line\"> \t\t\tfunc.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, ...args);<span class=\"comment\">// 第一次，立即执行一次</span></span><br><span class=\"line\"> \t\t\tflag = <span class=\"literal\">false</span></span><br><span class=\"line\"> \t\t&#125;</span><br><span class=\"line\">        timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\tflag = <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t&#125;, wait);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"合并\"><a class=\"markdownIt-Anchor\" href=\"#合并\">#</a> 合并</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 防抖函数，合并版本</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">func, wait = <span class=\"number\">50</span>,immediate</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\"> \t\t<span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> callNow = !timer;<span class=\"comment\">//如果有定时器就不执行，如果没有就代表是第一次则立即执行</span></span><br><span class=\"line\">        timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\ttimer = <span class=\"literal\">null</span></span><br><span class=\"line\">\t\t&#125;, wait);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(immediate) &#123;<span class=\"comment\">//是否立即执行</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (callNow) func.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, ...args);<span class=\"comment\">//第一次，立即执行一次</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"react版本\"><a class=\"markdownIt-Anchor\" href=\"#react版本\">#</a> react 版本</h3>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; useCallback, useEffect, useRef &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">DebounceRef</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">fn</span>: <span class=\"title class_\">Function</span>;</span><br><span class=\"line\">  <span class=\"attr\">timer</span>: <span class=\"built_in\">number</span> | <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">useDebounce</span>(<span class=\"params\">fn: <span class=\"built_in\">Function</span>, delay: <span class=\"built_in\">number</span>, dep: <span class=\"built_in\">any</span>[] = []</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; current &#125; = useRef&lt;<span class=\"title class_\">DebounceRef</span>&gt;(&#123; fn, <span class=\"attr\">timer</span>: <span class=\"literal\">null</span> &#125;);</span><br><span class=\"line\">  <span class=\"title function_\">useEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    current.<span class=\"property\">fn</span> = fn;</span><br><span class=\"line\">  &#125;, [fn]);</span><br><span class=\"line\">  <span class=\"comment\">// 防抖函数</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">useCallback</span>(<span class=\"keyword\">function</span> <span class=\"title function_\">f</span>(<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current.<span class=\"property\">timer</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">clearTimeout</span>(current.<span class=\"property\">timer</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    current.<span class=\"property\">timer</span> = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      current.<span class=\"property\">fn</span>.<span class=\"title function_\">apply</span>(current.<span class=\"property\">fn</span>, args);</span><br><span class=\"line\">    &#125;, delay);</span><br><span class=\"line\">  &#125;, dep);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"节流函数的实现\"><a class=\"markdownIt-Anchor\" href=\"#节流函数的实现\">#</a> 节流函数的实现</h2>\n<p>核心逻辑：如果定时器为空就开启定时器，定时器里执行函数并且置空<br>\n定时器不为空的时候就会跳过执行，直到被置空</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">func, wait = <span class=\"number\">50</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timeout = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果定时器为空就开启定时器，定时器里执行函数并且置空</span></span><br><span class=\"line\">    <span class=\"comment\">// 定时器不为空的时候就会跳过执行，直到被置空</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!timeout) &#123;</span><br><span class=\"line\">            timeout = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                timeout = <span class=\"literal\">null</span>;</span><br><span class=\"line\">                func.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, args)</span><br><span class=\"line\">            &#125;, wait)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"react版本-2\"><a class=\"markdownIt-Anchor\" href=\"#react版本-2\">#</a> react 版本</h3>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">useThrottle</span>(<span class=\"params\">fn, delay, dep = []</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; current &#125; = <span class=\"title function_\">useRef</span>(&#123; fn, <span class=\"attr\">timer</span>: <span class=\"literal\">null</span> &#125;);</span><br><span class=\"line\">  <span class=\"title function_\">useEffect</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    current.<span class=\"property\">fn</span> = fn;</span><br><span class=\"line\">  &#125;, [fn]);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">useCallback</span>(<span class=\"keyword\">function</span> <span class=\"title function_\">f</span>(<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!current.<span class=\"property\">timer</span>) &#123;</span><br><span class=\"line\">      current.<span class=\"property\">timer</span> = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> current.<span class=\"property\">timer</span>;</span><br><span class=\"line\">      &#125;, delay);</span><br><span class=\"line\">      current.<span class=\"title function_\">fn</span>(...args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;, dep);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考文献\"><a class=\"markdownIt-Anchor\" href=\"#参考文献\">#</a> 参考文献</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzU3MTQyNTU2L2FydGljbGUvZGV0YWlscy8xMTgwMDIyODk/b3BzX3JlcXVlc3RfbWlzYz0mYW1wO3JlcXVlc3RfaWQ9JmFtcDtiaXpfaWQ9MTAyJmFtcDt1dG1fdGVybT0lRTklOTglQjIlRTYlOEElOTYlRTglOEElODIlRTYlQjUlODElRTUlODclQkQlRTYlOTUlQjAmYW1wO3V0bV9tZWRpdW09ZGlzdHJpYnV0ZS5wY19zZWFyY2hfcmVzdWx0Lm5vbmUtdGFzay1ibG9nLTJ+YWxsfnNvYmFpZHV3ZWJ+ZGVmYXVsdC0wLTExODAwMjI4OS5ub25lY2FzZSZhbXA7c3BtPTEwMTguMjIyNi4zMDAxLjQxODc=\">csdn</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82OTU4NzA0Nzg0NjI2OTQxOTgy\">juejin</span></p>\n<p>[csdn2](</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/%E5%85%B3%E4%BA%8E%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85%E7%9A%84%E7%90%86%E8%A7%A3/",
            "url": "http://example.com/2023/05/04/Javascript/%E5%85%B3%E4%BA%8E%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85%E7%9A%84%E7%90%86%E8%A7%A3/",
            "title": "关于函数闭包的理解",
            "date_published": "2023-05-04T12:49:24.300Z",
            "content_html": "<h2 id=\"定义\"><a class=\"markdownIt-Anchor\" href=\"#定义\">#</a> 定义</h2>\n<p>当一个函数的返回值是另外一个函数，而返回的那个函数如果调用了其父函数内部的其它变量，如果返回的这个函数在外部被执行，就产生了闭包</p>\n<h2 id=\"优点\"><a class=\"markdownIt-Anchor\" href=\"#优点\">#</a> 优点</h2>\n<p>避免全局变量被污染，利于代码封装，可以在内存中维护一个变量</p>\n<h2 id=\"缺点\"><a class=\"markdownIt-Anchor\" href=\"#缺点\">#</a> 缺点</h2>\n<p>闭包会常驻内存，容易造成内存泄漏</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function outerfn() &#123;</span><br><span class=\"line\">\tlet a = 0</span><br><span class=\"line\">\tlet b = 0</span><br><span class=\"line\">\treturn function innerfn() &#123;</span><br><span class=\"line\">\talert(a)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">const fn = outerfn()</span><br><span class=\"line\">fn()</span><br><span class=\"line\">//虽然b没有被使用，但依然存在于内存之中</span><br></pre></td></tr></table></figure>\n<p><strong>内存泄漏</strong>：内存泄漏是指由于疏忽或错误造成程序未能释放已经不在使用的内存</p>\n<h2 id=\"参考文献\"><a class=\"markdownIt-Anchor\" href=\"#参考文献\">#</a> 参考文献</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5OTAzNTY3L2FydGljbGUvZGV0YWlscy8xMTUwMTA2NDA/c3BtPTEwMDEuMjEwMS4zMDAxLjY2NTAuMTcmYW1wO3V0bV9tZWRpdW09ZGlzdHJpYnV0ZS5wY19yZWxldmFudC5ub25lLXRhc2stYmxvZy0yJTdFZGVmYXVsdCU3RU9QRU5TRUFSQ0glN0VSYXRlLTE3LTExNTAxMDY0MC1ibG9nLTEyOTI0NTkwNy5wY19yZWxldmFudF8zbW90aG5fc3RyYXRlZ3lfYW5kX2RhdGFfcmVjb3ZlcnkmYW1wO2RlcHRoXzEtdXRtX3NvdXJjZT1kaXN0cmlidXRlLnBjX3JlbGV2YW50Lm5vbmUtdGFzay1ibG9nLTIlN0VkZWZhdWx0JTdFT1BFTlNFQVJDSCU3RVJhdGUtMTctMTE1MDEwNjQwLWJsb2ctMTI5MjQ1OTA3LnBjX3JlbGV2YW50XzNtb3Robl9zdHJhdGVneV9hbmRfZGF0YV9yZWNvdmVyeSZhbXA7dXRtX3JlbGV2YW50X2luZGV4PTE4\">csdn 闭包</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDg2NTQ1OC9hcnRpY2xlL2RldGFpbHMvMTE2MjMyMTEyP29wc19yZXF1ZXN0X21pc2M9JTI1N0IlMjUyMnJlcXVlc3QlMjU1RmlkJTI1MjIlMjUzQSUyNTIyMTY3NzczNDEwNTE2ODAwMTk3MDc5OTUyJTI1MjIlMjUyQyUyNTIyc2NtJTI1MjIlMjUzQSUyNTIyMjAxNDA3MTMuMTMwMTAyMzM0Li4lMjUyMiUyNTdEJmFtcDtyZXF1ZXN0X2lkPTE2Nzc3MzQxMDUxNjgwMDE5NzA3OTk1MiZhbXA7Yml6X2lkPTAmYW1wO3V0bV9tZWRpdW09ZGlzdHJpYnV0ZS5wY19zZWFyY2hfcmVzdWx0Lm5vbmUtdGFzay1ibG9nLTJ+YWxsfnRvcF9jbGlja35kZWZhdWx0LTEtMTE2MjMyMTEyLW51bGwtbnVsbC4xNDIlNUV2NzMlNUVwY19zZWFyY2hfdjIsMjAxJTVFdjQlNUVhZGRfYXNrLDIzOSU1RXYyJTVFaW5zZXJ0X2NoYXRncHQmYW1wO3V0bV90ZXJtPWpzJUU1JTg2JTg1JUU1JUFEJTk4JUU2JUIzJTg0JUU2JUJDJThGJmFtcDtzcG09MTAxOC4yMjI2LjMwMDEuNDE4Nw==\">csdn 内存泄漏</span></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/js%E5%BC%80%E5%90%AF%E6%91%84%E5%83%8F%E5%A4%B4/",
            "url": "http://example.com/2023/05/04/Javascript/js%E5%BC%80%E5%90%AF%E6%91%84%E5%83%8F%E5%A4%B4/",
            "title": "js开启摄像头",
            "date_published": "2023-05-04T12:49:24.296Z",
            "content_html": "<h2 id=\"所需知识\"><a class=\"markdownIt-Anchor\" href=\"#所需知识\">#</a> 所需知识</h2>\n<h3 id=\"canvas-drawimage\"><a class=\"markdownIt-Anchor\" href=\"#canvas-drawimage\">#</a> canvas drawImage</h3>\n<p><code>drawImage(image，sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)</code></p>\n<p>1、 <code>image</code> ：image 是画布绘制的图像源，绘制到画布上的元素，可以是 canvasElement,imageElement,svgImageElement ,videoElement 等一系列具有图像的元素。</p>\n<p>2、 <code>sx</code> ：绘制裁剪的图像源的 x 坐标位置；</p>\n<p>3、 <code>sy</code> ：绘制裁剪的图像源的 y 坐标位置；</p>\n<p>4、 <code>sWidth</code> ：绘制裁剪的图像源的宽度；</p>\n<p>5、 <code>sHeight</code> ：绘制裁剪的图像源的高度；</p>\n<p>6、 <code>dx</code> ：目标源在 canvas 画布上绘制的左上角的 x 坐标；</p>\n<p>7、 <code>dy</code> ：目标源在 canvas 画布上绘制的左上角的 y 坐标；</p>\n<p>8、 <code>dWidth</code> ：目标源在 canvas 画布上绘制的宽度，会自动根据图像源截取的宽度对比做缩放；</p>\n<p>9、 <code>dWidth</code> ：目标源在 canvas 画布上绘制的高度，会自动根据图像源截取的高度对比做缩放；</p>\n<h3 id=\"requestanimationframe绘制函数\"><a class=\"markdownIt-Anchor\" href=\"#requestanimationframe绘制函数\">#</a> requestAnimationFrame 绘制函数</h3>\n<p><code>window.requestAnimationFrame() </code> 告诉浏览器 —— 你希望执行一个动画，并且要求<strong>浏览器在下次重绘之前调用指定的回调函数更新动画</strong>。</p>\n<h3 id=\"mediadevicesgetusermedia\"><a class=\"markdownIt-Anchor\" href=\"#mediadevicesgetusermedia\">#</a> MediaDevices.getUserMedia()</h3>\n<p>它返回一个 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise\"> <code>Promise</code> </a> 对象，成功后会 <code>resolve</code>  回调一个 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/MediaStream\"> <code>MediaStream</code> </a> 对象。若用户拒绝了使用权限，或者需要的媒体源不可用， <code>promise</code>  会 <code>reject</code>  回调一个  <code>PermissionDeniedError</code>  或者  <code>NotFoundError</code>  。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">navigator.<span class=\"property\">mediaDevices</span>.<span class=\"title function_\">getUserMedia</span>(constraints)</span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">stream</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 使用这个 stream stream */</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.<span class=\"title function_\">catch</span>(<span class=\"keyword\">function</span>(<span class=\"params\">err</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 处理 error */</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//constraints 作为一个MediaStreamConstraints (en-US) 对象，指定了请求的媒体类型和相对应的参数。</span></span><br><span class=\"line\">&#123; <span class=\"attr\">audio</span>: <span class=\"literal\">true</span>, <span class=\"attr\">video</span>: <span class=\"literal\">true</span> &#125; or</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">audio</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">video</span>: &#123; <span class=\"attr\">width</span>: <span class=\"number\">1280</span>, <span class=\"attr\">height</span>: <span class=\"number\">720</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"srcobject\"><a class=\"markdownIt-Anchor\" href=\"#srcobject\">#</a> srcObject</h3>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement\"> <code>HTMLMediaElement</code> </a> 接口的 <strong> <code>srcObject</code> </strong> 属性设定或返回一个对象，这个对象提供了一个与<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement\"> <code>HTMLMediaElement</code> </a> 关联的媒体源，这个对象通常是 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/MediaStream\"> <code>MediaStream</code> </a> ，但根据规范可以是 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/MediaSource\"> <code>MediaSource</code> </a>， <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Blob\"> <code>Blob</code> </a> 或者 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/File\"> <code>File</code> </a>。</p>\n<h2 id=\"具体实现\"><a class=\"markdownIt-Anchor\" href=\"#具体实现\">#</a> 具体实现</h2>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">video</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#ccc</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">canvas</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">video</span> <span class=\"attr\">autoplay</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;video&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">video</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;output&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> video = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;video&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> back = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;output&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//console.log(back,video)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> backcontext = back.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">draw</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">try</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">         backcontext.<span class=\"title function_\">drawImage</span>(video,<span class=\"number\">0</span>,<span class=\"number\">0</span>,back.<span class=\"property\">width</span>,back.<span class=\"property\">height</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;<span class=\"keyword\">catch</span>(e)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(e.<span class=\"property\">name</span> == <span class=\"string\">&quot;NS_ERROR_NOT_AVAILABLE&quot;</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span> <span class=\"built_in\">setInterval</span>(draw,<span class=\"number\">200</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;<span class=\"keyword\">else</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">throw</span> e</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">       <span class=\"variable language_\">window</span>.<span class=\"title function_\">requestAnimationFrame</span>(draw)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> success = <span class=\"keyword\">function</span>(<span class=\"params\">stream</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;摄像头开启成功&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(stream);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//视频流赋值</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\tvideo.<span class=\"property\">srcObject</span> = stream</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">draw</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> <span class=\"title function_\">error</span> = (<span class=\"params\">error</span>)=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;调用失败&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">navigator.<span class=\"property\">mediaDevices</span>.<span class=\"title function_\">getUserMedia</span>(&#123;<span class=\"attr\">video</span>:<span class=\"literal\">true</span>,<span class=\"attr\">audio</span>:<span class=\"literal\">false</span>&#125;).<span class=\"title function_\">then</span>(success).<span class=\"title function_\">catch</span>(error)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/JS%20Set%E4%BD%BF%E7%94%A8/",
            "url": "http://example.com/2023/05/04/Javascript/JS%20Set%E4%BD%BF%E7%94%A8/",
            "title": "JS Set使用",
            "date_published": "2023-05-04T12:49:24.291Z",
            "content_html": "<p>Set 类似与 Array 数组，但 Set 里面的元素不能重复</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">12</span>, <span class=\"number\">14</span>])</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(set)<span class=\"comment\">//10 12 14</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">12</span>, <span class=\"number\">14</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(array)<span class=\"comment\">//10 10 12 14</span></span><br></pre></td></tr></table></figure>\n<p>除了 new 时初始化元素，也可以通过 add 添加元素</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 方式一：创建Set对象，使用add方法添加元素</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;<span class=\"attr\">name</span>: <span class=\"string\">&quot;aaa&quot;</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> set1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>()</span><br><span class=\"line\">set1.<span class=\"title function_\">add</span>(<span class=\"number\">10</span>)</span><br><span class=\"line\">set1.<span class=\"title function_\">add</span>(<span class=\"number\">10</span>)</span><br><span class=\"line\">set1.<span class=\"title function_\">add</span>(<span class=\"number\">12</span>)</span><br><span class=\"line\">set1.<span class=\"title function_\">add</span>(<span class=\"number\">14</span>)</span><br><span class=\"line\">set1.<span class=\"title function_\">add</span>(obj)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(set1)</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// 方式二： 直接添加元素</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> set2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">12</span>, <span class=\"number\">14</span>, &#123;<span class=\"attr\">name</span>: <span class=\"string\">&quot;zzz&quot;</span>&#125;])</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(set2)</span><br></pre></td></tr></table></figure>\n<h2 id=\"set方法数组去重\"><a class=\"markdownIt-Anchor\" href=\"#set方法数组去重\">#</a> Set 方法数组去重</h2>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">12</span>, <span class=\"number\">12</span>, <span class=\"number\">12</span>, <span class=\"number\">15</span>, <span class=\"number\">17</span>]</span><br><span class=\"line\"><span class=\"keyword\">const</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(array)</span><br><span class=\"line\"><span class=\"comment\">//Array.from把伪数组转换为数组</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(set)</span><br><span class=\"line\"><span class=\"keyword\">const</span> newArray1 = [...set]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(set)<span class=\"comment\">//Set(4) 10 12 15 17</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newArray)<span class=\"comment\">//10 12 15 17</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newArray1)<span class=\"comment\">//10 12 15 17</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"set常见的属性\"><a class=\"markdownIt-Anchor\" href=\"#set常见的属性\">#</a> Set 常见的属性：</h2>\n<p>**size：** 返回 Set 中元素的个数；</p>\n<h2 id=\"set常用的方法\"><a class=\"markdownIt-Anchor\" href=\"#set常用的方法\">#</a> Set 常用的方法：</h2>\n<p>**add (value)：** 添加某个元素，返回 Set 对象本身；</p>\n<p>**delete (value)：** 从 set 中删除和这个值相等的元素，返回 boolean 类型；</p>\n<p>**has (value)：** 判断 set 中是否存在某个元素，返回 boolean 类型；</p>\n<p>**clear ()：** 清空 set 中所有的元素，没有返回值；</p>\n<p>**forEach (callback, [, thisArg])：** 通过 forEach 遍历 set；</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/call,bind,apply/",
            "url": "http://example.com/2023/05/04/Javascript/call,bind,apply/",
            "title": "call,bind,apply",
            "date_published": "2023-05-04T12:49:24.288Z",
            "content_html": "<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//手写call方法</span></span><br><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myCall</span> = <span class=\"keyword\">function</span> (<span class=\"params\">obj,...rest</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//判断是否为null或undefined</span></span><br><span class=\"line\">  <span class=\"comment\">//call第一个参数为这些时指向全局对象</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(obj == <span class=\"literal\">undefined</span> || obj == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    obj = <span class=\"variable language_\">window</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  obj.<span class=\"property\">fng</span> = <span class=\"variable language_\">this</span><span class=\"comment\">//谁调用this，this就指向谁</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> result = obj.<span class=\"title function_\">fng</span>(...rest)<span class=\"comment\">//立即执行</span></span><br><span class=\"line\">  <span class=\"keyword\">delete</span> obj.<span class=\"property\">fng</span><span class=\"comment\">//删除防止越来越多</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> result<span class=\"comment\">//返回执行的结果</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>:<span class=\"string\">&quot;一个&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fng</span>(<span class=\"params\">a,b</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;我是&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> + a + b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fng.<span class=\"title function_\">myCall</span>(obj,<span class=\"string\">&quot;好&quot;</span>,<span class=\"string\">&quot;前端&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//手写apply方法</span></span><br><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myApply</span> = <span class=\"keyword\">function</span> (<span class=\"params\">obj,arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//判断是否为null或undefined</span></span><br><span class=\"line\">  <span class=\"comment\">//apply第一个参数为这些时指向全局对象</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(obj == <span class=\"literal\">undefined</span> || obj == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    obj = <span class=\"variable language_\">window</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  obj.<span class=\"property\">fng</span> = <span class=\"variable language_\">this</span><span class=\"comment\">//谁调用this指向谁</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> result = obj.<span class=\"title function_\">fng</span>(...arr)<span class=\"comment\">//立即执行函数</span></span><br><span class=\"line\">  <span class=\"keyword\">delete</span> obj.<span class=\"property\">fng</span><span class=\"comment\">//删除防止越来越多</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fng.<span class=\"title function_\">myApply</span>(obj,[<span class=\"string\">&quot;牛逼的&quot;</span>,<span class=\"string\">&quot;前端&quot;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//手写bind方法</span></span><br><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myBind</span> = <span class=\"keyword\">function</span> (<span class=\"params\">obj,...rest</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//判断是否为null或undefined</span></span><br><span class=\"line\">  <span class=\"comment\">//bind第一个参数为这些时指向全局对象</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(obj == <span class=\"literal\">undefined</span> || obj == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    obj = <span class=\"variable language_\">window</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> _this = <span class=\"variable language_\">this</span><span class=\"comment\">//谁调用this指向谁</span></span><br><span class=\"line\">  <span class=\"comment\">//1.返回一个函数，不会立即执行</span></span><br><span class=\"line\">  <span class=\"comment\">//2.函数的返回值里面调用call方法，当调用时就会执行更改this指向</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...otherrest</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> _this.<span class=\"title function_\">call</span>(obj,...rest,...otherrest)<span class=\"comment\">//执行时改变其this指向</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> s = fng.<span class=\"title function_\">myBind</span>(obj,<span class=\"string\">&quot;厉害的&quot;</span>)</span><br><span class=\"line\"><span class=\"title function_\">s</span>(<span class=\"string\">&quot;前端&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  总结：call方法和bind方法非常相似，在Function上定义方法不要用箭头函数</span></span><br><span class=\"line\"><span class=\"comment\">        箭头函数导致this指向不会变，手写实现this指向改变都是把调用函数</span></span><br><span class=\"line\"><span class=\"comment\">        变成改变this指向的对象下面的一个方法，然后在删除</span></span><br><span class=\"line\"><span class=\"comment\">        而bind较不一样，要返回一个改变this指向的函数，通过前两种方法设置</span></span><br><span class=\"line\"><span class=\"comment\">        返回函数的返回值this指向改变去实现bind方法</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/base64%E8%BD%AC%E6%96%87%E4%BB%B6/",
            "url": "http://example.com/2023/05/04/Javascript/base64%E8%BD%AC%E6%96%87%E4%BB%B6/",
            "title": "base64转文件",
            "date_published": "2023-05-04T12:49:24.284Z",
            "content_html": "<h2 id=\"所需知识\"><a class=\"markdownIt-Anchor\" href=\"#所需知识\">#</a> 所需知识</h2>\n<h3 id=\"match方法\"><a class=\"markdownIt-Anchor\" href=\"#match方法\">#</a> match 方法</h3>\n<p>match 本身是 JavaScript 语言中字符串对象的一个方法，该方法的签名是  match ([string] | [RegExp])</p>\n<p>它的参数既可以是一个字符串，也可以是一个正则表达式。该方法绝大多数都是要使用正则表达式的，所以参数为 string 的情况不在本文讨论范围之内。其实参数即使是一个简单的 string，其返回值也跟使用正则表达式的结果无异，而且使用正则表达式的变化比较多，用法复杂，所以我们只讨论正则的用法。</p>\n<p>JavaScript 中的 match () 方法的返回值是数组或者是 null。如果原字符串中匹配到了正则表达式指代的子串，则返回一个数组，否则返回 null。</p>\n<h3 id=\"windowatobbase64\"><a class=\"markdownIt-Anchor\" href=\"#windowatobbase64\">#</a> window.atob(base64)</h3>\n<p>用来解码一个已经被 base-64 编码过的数据</p>\n<h3 id=\"charcodeatindex\"><a class=\"markdownIt-Anchor\" href=\"#charcodeatindex\">#</a> charCodeAt(index)</h3>\n<p>在 JavaScript 中，charCodeAt () 是一种字符串方法，用于检索字符串中特定位置的字符的 Unicode 值。因为 charCodeAt () 方法是 String 对象的方法，所以必须通过 String 类的特定实例调用它。</p>\n<p>charCodeAt () 方法返回一个 UTF-16 值（一个介于 0 和 65535 之间的 16 位整数），它是字符串中特定位置的字符的 Unicode 值。</p>\n<p>该位置必须是 0 之间串。长度 - 1。如果位置超出范围，则 charCodeAt () 方法将返回一个特殊的非数字值，打印为 NaN。</p>\n<ul>\n<li>如果字符的 Unicode 值无法用单个 UTF-16 代码单元表示，请使用 codePointAt () 方法。</li>\n<li>charCodeAt () 方法不会更改原始<em>字符串</em>的值。</li>\n</ul>\n<h3 id=\"file\"><a class=\"markdownIt-Anchor\" href=\"#file\">#</a> File</h3>\n<p><strong>File 对象继承自 Blob 对象，先看看 Blob 对象。</strong></p>\n<p>Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是 JavaScript 原生格式的数据。</p>\n<p>我们接触的多数关于 File 的操作都是读取，js 也为我们提供了手动创建 File 对象的构造函数：File (bits, name [, options])。</p>\n<ul>\n<li><code>bits (required)</code>  ArrayBuffer，ArrayBufferView，Blob，或者 Array [string] —<br>\n 或者任何这些对象的组合。这是 UTF-8 编码的文件内容。</li>\n<li><code>name [String] (required)</code>  文件名称，或者文件路径.</li>\n<li><code>options [Object] (optional) </code> 选项对象，包含文件的可选属性。可用的选项如下：<br>\n <code>type: string</code> , 表示将要放到文件中的内容的 MIME 类型。默认值为 ‘’ 。<br>\n <code>lastModified</code> : 数值，表示文件最后修改时间的 Unix 时间戳（毫秒）。默认值为 Date.now ()。</li>\n</ul>\n<h2 id=\"实例\"><a class=\"markdownIt-Anchor\" href=\"#实例\">#</a> 实例</h2>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// base64图片转file的方法（base64图片, 设置生成file的文件名）</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">base64ToFile</span>(<span class=\"params\">base64: <span class=\"built_in\">any</span>, fileName: <span class=\"built_in\">string</span></span>): <span class=\"title class_\">File</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 将base64按照 , 进行分割 将前缀  与后续内容分隔开</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> data = base64.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 利用正则表达式 从前缀中获取图片的类型信息（image/png、image/jpeg、image/webp等）</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"keyword\">type</span> = data[<span class=\"number\">0</span>].<span class=\"title function_\">match</span>(<span class=\"regexp\">/:(.*?);/</span>)[<span class=\"number\">1</span>];</span><br><span class=\"line\">  <span class=\"comment\">// 从图片的类型信息中 获取具体的文件格式后缀（png、jpeg、webp）</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> suffix = <span class=\"keyword\">type</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;/&#x27;</span>)[<span class=\"number\">1</span>];</span><br><span class=\"line\">  <span class=\"comment\">// 使用atob()对base64数据进行解码  结果是一个文件数据流 以字符串的格式输出</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> bstr = <span class=\"variable language_\">window</span>.<span class=\"title function_\">atob</span>(data[<span class=\"number\">1</span>]);</span><br><span class=\"line\">  <span class=\"comment\">// 获取解码结果字符串的长度</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> n = bstr.<span class=\"property\">length</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 根据解码结果字符串的长度创建一个等长的整形数字数组</span></span><br><span class=\"line\">  <span class=\"comment\">// 但在创建时 所有元素初始值都为 0</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> u8arr = <span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(n);</span><br><span class=\"line\">  <span class=\"comment\">// 将整形数组的每个元素填充为解码结果字符串对应位置字符的UTF-16 编码单元</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (n--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// charCodeAt()：获取给定索引处字符对应的 UTF-16 代码单元</span></span><br><span class=\"line\">    u8arr[n] = bstr.<span class=\"title function_\">charCodeAt</span>(n);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 利用构造函数创建File文件对象</span></span><br><span class=\"line\">  <span class=\"comment\">// new File(bits, name, options)</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> file = <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>([u8arr], <span class=\"string\">`<span class=\"subst\">$&#123;fileName&#125;</span>.<span class=\"subst\">$&#123;suffix&#125;</span>`</span>, &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"keyword\">type</span>,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"comment\">// 将File文件对象返回给方法的调用者</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> file;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/Array%20includes%E7%9A%84%E4%BD%BF%E7%94%A8/",
            "url": "http://example.com/2023/05/04/Javascript/Array%20includes%E7%9A%84%E4%BD%BF%E7%94%A8/",
            "title": "Array includes",
            "date_published": "2023-05-04T12:49:24.280Z",
            "content_html": "<p><strong> <code>includes()</code> </strong> 方法用来判断一个<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zby5jc2RuLm5ldC9zby9zZWFyY2g/cT0lRTYlOTUlQjAlRTclQkIlODQmYW1wO3NwbT0xMDAxLjIxMDEuMzAwMS43MDIw\">数组</span>是否包含一个指定的值，根据情况，如果包含则返回  <code>true</code> ，否则返回  <code>false</code> 。</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr.<span class=\"title function_\">includes</span>(searchElement) <span class=\"comment\">// return true or false</span></span><br><span class=\"line\">arr.<span class=\"title function_\">includes</span>(searchElement, fromIndex) <span class=\"comment\">// return true or false</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>searchElement</code> : 需要查找的元素值</li>\n<li><code>fromIndex</code> : <strong>选填</strong>。从 <code>arr</code>  的 <code>fromIndex</code>  的索引处开始查找。接受正负值，若为负值，则从 <code>fromIndex+arr.length</code>  索引处开始查找。默认为 0。</li>\n</ul>\n<p>若 <code>fromIndex</code> &gt; <code>arr.length</code> ，即索引开始值大于等于数组长度。则将直接返回 <code>false</code> ，且不搜索该数组。</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/%E9%9F%B3%E9%A2%91%E5%8F%AF%E8%A7%86%E5%8C%96/",
            "url": "http://example.com/2023/05/04/Javascript/%E9%9F%B3%E9%A2%91%E5%8F%AF%E8%A7%86%E5%8C%96/",
            "title": "音频可视化",
            "date_published": "2023-05-04T12:49:24.277Z",
            "content_html": "<h2 id=\"用到的知识\"><a class=\"markdownIt-Anchor\" href=\"#用到的知识\">#</a> 用到的知识</h2>\n<h3 id=\"devicepixelratio-设备像素比\"><a class=\"markdownIt-Anchor\" href=\"#devicepixelratio-设备像素比\">#</a> devicePixelRatio 设备像素比</h3>\n<p>window.devicePixelRatio = 物理像素 / 逻辑像素<br>\n这里物理像素是指电脑分辨率，逻辑像素指的是如 css 像素</p>\n<p>正常人眼可以识别的分辨率为 300PPI，而现在很多设备的分辨率都超过 300PPI，如果设备总是以满分辨率来显示东西就可能造成文字太小无法看清，因此像浏览器这样的软件就会对内容做一次放大后再进行渲染（也就是降低分辨率）：要降低分辨率就需要让像素这个单位变大，因此 PPI 的计算不再使用物理像素，而改用设备独立像素，那么设备独立像素和物理像素之间就存在一个比例差异，这就是 设备像素比。</p>\n<h3 id=\"audiocontext音频上下文\"><a class=\"markdownIt-Anchor\" href=\"#audiocontext音频上下文\">#</a> AudioContext 音频上下文</h3>\n<p>简洁来说就是使用这个 API 我们可以对音频进行各种操作，比如控制音量（简单的 audio 标签就可以进行控制音量，使用 WebAudioAPI 是对这个 API 的大材小用）、控制左右声道的播放，对音效进行优化，音频可视化（最常见的使用）。</p>\n<p>音频上下文控制它包含的节点的创建和音频处理或解码的执行。在做任何其他操作之前，您需要创建一个 <code>AudioContext</code>  对象，因为所有事情都是在上下文中发生的。建议创建一个 <code>AudioContext</code>  对象并复用它，而不是每次初始化一个新的 <code>AudioContext</code>  对象，并且可以对多个不同的音频源和管道同时使用一个 <code>AudioContext</code>  对象。</p>\n<h4 id=\"createmediaelementsource创建新对象\"><a class=\"markdownIt-Anchor\" href=\"#createmediaelementsource创建新对象\">#</a> createMediaElementSource 创建新对象</h4>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext\"> <code>AudioContext</code> </a> 接口的  <code>createMediaElementSource()</code>  方法用于创建一个新的 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/MediaElementAudioSourceNode\"> <code>MediaElementAudioSourceNode</code> </a> 对象，输入某个存在的 HTML <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video\"> <code>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio) or [</code> </a> 元素，对应的音频即可被播放或者修改。</p>\n<h4 id=\"createanalyser创建分析器对象\"><a class=\"markdownIt-Anchor\" href=\"#createanalyser创建分析器对象\">#</a> createAnalyser 创建分析器对象</h4>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext\"> <code>AudioContext</code> </a> 的 <code>createAnalyser()</code>  方法能创建一个<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode\"> <code>AnalyserNode</code> </a>，可以用来获取音频时间和频率数据，以及实现数据可视化。</p>\n<h5 id=\"analysernodeffsize\"><a class=\"markdownIt-Anchor\" href=\"#analysernodeffsize\">#</a> AnalyserNode.ffSize</h5>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode\"> <code>AnalyserNode</code> </a> 接口的  <code>fftSize</code>  属性的值是一个无符号长整型的值，表示（信号）样本的窗口大小。当执行<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWI=\">快速傅里叶变换</span>（Fast Fourier Transfor (FFT)）时，这些（信号）样本被用来获取频域数据。</p>\n<p>fftSize 属性的值必须是从 32 到 32768 范围内的 2 的非零幂；其默认值为 2048.</p>\n<p>关于 fftSize ，在 MDN 上的介绍可能很难理解，说是快速傅里叶变换的一个参数。</p>\n<p>可以从以下角度理解：</p>\n<ol>\n<li>它的取值是什么？</li>\n</ol>\n<p>fftSize 的要求是 2 的幂次方，比如 256 、 512 等。数字越大，得到的结果越精细。</p>\n<p>对于移动端网页来说，本身音频的比特率大多是 128Kbps ，没有必要用太大的频率数组去存储本身就不够精细的源数据。另外，手机屏幕的尺寸比桌面端小，因此最终展示图形也不需要每个频率都采到。只需要体现节奏即可，因此 512 是较为合理的值。</p>\n<ol start=\"2\">\n<li>它的作用是什么？</li>\n</ol>\n<p>fftSize 决定了 frequencyData 的长度，具体为 fftSize 的一半。</p>\n<h5 id=\"analysernodefrequencybincount\"><a class=\"markdownIt-Anchor\" href=\"#analysernodefrequencybincount\">#</a> AnalyserNode.frequencyBinCount</h5>\n<p><strong> <code>frequencyBinCount</code> </strong> 的值固定为 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode\"> <code>AnalyserNode</code> </a> 接口中 fftSize 值的一半。该属性通常用于可视化的数据值的数量。</p>\n<h5 id=\"analysernodegetbytefrequencydata\"><a class=\"markdownIt-Anchor\" href=\"#analysernodegetbytefrequencydata\">#</a> AnalyserNode.getByteFrequencyData()</h5>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode\"> <code>AnalyserNode</code> </a> 接口的 <strong> <code>getByteFrequencyData()</code> </strong> 方法将当前频率数据复制到传入的 Uint8Array（无符号字节数组）中。</p>\n<p>如果数组的长度小于 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode/frequencyBinCount\"> <code>AnalyserNode.frequencyBinCount</code> </a>, 那么 Analyser 多出的元素会被删除。如果是大于，那么数组多余的元素会被忽略。</p>\n<h4 id=\"audiocontextdestination标识音频尾节点\"><a class=\"markdownIt-Anchor\" href=\"#audiocontextdestination标识音频尾节点\">#</a> AudioContext.destination 标识音频尾节点</h4>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext\"> <code>AudioContext</code> </a> 的  <code>destination</code>  属性返回一个 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/AudioDestinationNode\"> <code>AudioDestinationNode</code> </a>，表示 context 中所有音频的最终目标节点，一般是音频渲染设备，比如扬声器。</p>\n<h3 id=\"requestanimationframe绘制函数\"><a class=\"markdownIt-Anchor\" href=\"#requestanimationframe绘制函数\">#</a> requestAnimationFrame 绘制函数</h3>\n<p>window.requestAnimationFrame () 告诉浏览器 —— 你希望执行一个动画，并且要求<strong>浏览器在下次重绘之前调用指定的回调函数更新动画</strong>。</p>\n<h2 id=\"例子\"><a class=\"markdownIt-Anchor\" href=\"#例子\">#</a> 例子</h2>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        *&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">body</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">min-height</span>: <span class=\"number\">100vh</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: column;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-items</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: <span class=\"number\">#000</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">canvas</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100vh</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">audio</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">top</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">right</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">opacity</span>: <span class=\"number\">0.1s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">transition</span>: opacity <span class=\"number\">0.5s</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">audio</span><span class=\"selector-pseudo\">:hover</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">canvas</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../aaa.m4a&quot;</span> <span class=\"attr\">controls</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> audio = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;audio&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> cvs = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">const</span> ctx = cvs.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">initCvs</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            cvs.<span class=\"property\">width</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span> * devicePixelRatio</span></span><br><span class=\"line\"><span class=\"language-javascript\">            cvs.<span class=\"property\">height</span> = (<span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span> / <span class=\"number\">2</span>) * devicePixelRatio</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">initCvs</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> isInit=<span class=\"literal\">false</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> dataArray</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> analyser</span></span><br><span class=\"line\"><span class=\"language-javascript\">        audio.<span class=\"property\">onplay</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(isInit) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">const</span> audioCtx = <span class=\"keyword\">new</span> <span class=\"title class_\">AudioContext</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">const</span> source = audioCtx.<span class=\"title function_\">createMediaElementSource</span>(audio)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            analyser = audioCtx.<span class=\"title function_\">createAnalyser</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            analyser.<span class=\"property\">fftSize</span>=<span class=\"number\">512</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            dataArray = <span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(analyser.<span class=\"property\">frequencyBinCount</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            source.<span class=\"title function_\">connect</span>(analyser)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            analyser.<span class=\"title function_\">connect</span>(audioCtx.<span class=\"property\">destination</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            isInit=<span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">         <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">draw</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">requestAnimationFrame</span>(draw)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">const</span> &#123;width,height&#125; = cvs</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,width,height)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(!isInit) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">return</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            analyser.<span class=\"title function_\">getByteFrequencyData</span>(dataArray)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">const</span> len = dataArray.<span class=\"property\">length</span> / <span class=\"number\">2</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(len);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">const</span> barWidth = width / len</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">fillStyle</span>=<span class=\"string\">&quot;#e0f9b5&quot;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;i &lt; len;i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">const</span> data = dataArray[i]</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">const</span> barHeight=(data / <span class=\"number\">255</span>) * height</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">const</span> x1 = i * barWidth + width / <span class=\"number\">2</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">const</span> x2 = width / <span class=\"number\">2</span> - (i + <span class=\"number\">1</span>) * barWidth</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">const</span> y = height - barHeight</span></span><br><span class=\"line\"><span class=\"language-javascript\">                ctx.<span class=\"title function_\">fillRect</span>(x1,y,barWidth - <span class=\"number\">2</span>,barHeight)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                ctx.<span class=\"title function_\">fillRect</span>(x2,y,barWidth - <span class=\"number\">2</span>,barHeight)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            </span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;   </span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">draw</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        </span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a class=\"markdownIt-Anchor\" href=\"#参考资料\">#</a> 参考资料</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zOTYyNDcwNS9hcnRpY2xlL2RldGFpbHMvMTExNzMwMTkyP29wc19yZXF1ZXN0X21pc2M9JmFtcDtyZXF1ZXN0X2lkPSZhbXA7Yml6X2lkPTEwMiZhbXA7dXRtX3Rlcm09QW5hbHlzZXJOb2RlLmZmdFNpemUmYW1wO3V0bV9tZWRpdW09ZGlzdHJpYnV0ZS5wY19zZWFyY2hfcmVzdWx0Lm5vbmUtdGFzay1ibG9nLTJ+YWxsfnNvYmFpZHV3ZWJ+ZGVmYXVsdC03LTExMTczMDE5Mi4xNDIlNUV2NzMlNUVpbnNlcnRfZG93bjEsMjAxJTVFdjQlNUVhZGRfYXNrLDIzOSU1RXYyJTVFaW5zZXJ0X2NoYXRncHQmYW1wO3NwbT0xMDE4LjIyMjYuMzAwMS40MTg3\">csdn</span></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/%E5%9B%BE%E7%89%87%E8%BD%ACbase64/",
            "url": "http://example.com/2023/05/04/Javascript/%E5%9B%BE%E7%89%87%E8%BD%ACbase64/",
            "title": "图片转base64",
            "date_published": "2023-05-04T12:49:24.274Z",
            "content_html": "<h2 id=\"所需知识\"><a class=\"markdownIt-Anchor\" href=\"#所需知识\">#</a> 所需知识</h2>\n<h3 id=\"filereader-异步读取文件\"><a class=\"markdownIt-Anchor\" href=\"#filereader-异步读取文件\">#</a> FileReader 异步读取文件</h3>\n<p><code>FileReader</code>  提供了如下方法：</p>\n<p><code>readAsArrayBuffer(file)</code> ：按字节读取文件内容，结果用 ArrayBuffer 对象表示</p>\n<p>readAsArrayBuffer 方法读取文件后，会在内存中创建一个 ArrayBuffer 对象（二进制缓冲区），将二进制数据存放在其中。通过此方式，可以直接在网络中传输二进制内容。</p>\n<p><code>readAsBinaryString(file)</code> ：按字节读取文件内容，结果为文件的二进制串</p>\n<p><code>readAsDataURL(file)</code> ：读取文件内容，结果用 data:url 的字符串形式表示</p>\n<p>readAsDataURL 方法会读取指定的 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvQVBJL0Jsb2I=\">Blob</span> 或 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvQVBJL0ZpbGU=\">File</span> 对象。并生成 <code>data URl(base64编码)。</code></p>\n<p><code>readAsText(file,encoding)</code> ：按字符读取文件内容，结果用字符串形式表示</p>\n<p><code>abort()</code> ：终止文件读取操作</p>\n<p>FileReader 事件：</p>\n<p><code>onloadstart</code> ：读取文件开始时触发<br>\n <code>onprogress</code> ：读取过程中触发，会返还本次读取文件的最大字节数和已经读取完毕的字节数，可以用来做进度条<br>\n <code>onabort</code> ：在读取中断时触发<br>\n <code>onerror</code> ：在读取文件失败时触发<br>\n <code>onload</code> ：在读取完成时触发<br>\n <code>onloadend</code> ：读取结束后触发，不论成功还是失败都会触发，触发时机在 onload 之后</p>\n<h2 id=\"实例\"><a class=\"markdownIt-Anchor\" href=\"#实例\">#</a> 实例</h2>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">RcFile</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;antd/es/upload&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// 转base64编码</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> getBase64 = (<span class=\"attr\">file</span>: <span class=\"title class_\">RcFile</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">string</span>&gt; =&gt;</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> reader = <span class=\"keyword\">new</span> <span class=\"title class_\">FileReader</span>();</span><br><span class=\"line\">    reader.<span class=\"title function_\">readAsDataURL</span>(file);</span><br><span class=\"line\">    reader.<span class=\"property\">onload</span> = <span class=\"function\">() =&gt;</span> <span class=\"title function_\">resolve</span>(reader.<span class=\"property\">result</span> <span class=\"keyword\">as</span> <span class=\"built_in\">string</span>);</span><br><span class=\"line\">    reader.<span class=\"property\">onerror</span> = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> getBase64;</span><br></pre></td></tr></table></figure>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/",
            "url": "http://example.com/2023/05/04/Javascript/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/",
            "title": "图片懒加载",
            "date_published": "2023-05-04T12:49:24.269Z",
            "content_html": "<h2 id=\"所需知识\"><a class=\"markdownIt-Anchor\" href=\"#所需知识\">#</a> 所需知识</h2>\n<h3 id=\"intersectionobserver\"><a class=\"markdownIt-Anchor\" href=\"#intersectionobserver\">#</a> IntersectionObserver</h3>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> io = <span class=\"keyword\">new</span> IntersectionObserver(callback, options)</span><br></pre></td></tr></table></figure>\n<p>以上代码会返回一个 <code>IntersectionObserver</code>  实例， <code>callback</code>  是当元素的可见性变化时候的回调函数， <code>options</code>  是一些配置项（可选）</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">io.<span class=\"title function_\">observe</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;img&#x27;</span>))  开始观察，接受一个<span class=\"variable constant_\">DOM</span>节点对象</span><br><span class=\"line\">io.<span class=\"title function_\">unobserve</span>(element)   停止观察 接受一个element元素</span><br><span class=\"line\">io.<span class=\"title function_\">disconnect</span>() 关闭观察器</span><br></pre></td></tr></table></figure>\n<h4 id=\"options\"><a class=\"markdownIt-Anchor\" href=\"#options\">#</a> options</h4>\n<p><strong>root</strong></p>\n<p>用于观察的根元素，默认是浏览器的视口，也可以指定具体元素，指定元素的时候用于观察的元素必须是指定元素的子元素</p>\n<p><strong>threshold</strong></p>\n<p>用来指定交叉比例，决定什么时候触发回调函数，是一个数组，默认是 <code>[0]</code> 。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> options = &#123;</span><br><span class=\"line\">    <span class=\"attr\">root</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">    <span class=\"attr\">threshold</span>: [<span class=\"number\">0</span>, <span class=\"number\">0.5</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> io = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(callback, options)</span><br><span class=\"line\">io.<span class=\"title function_\">observe</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;img&#x27;</span>))</span><br></pre></td></tr></table></figure>\n<p><strong>rootMargin</strong></p>\n<p>用来扩大或者缩小视窗的的大小，使用 css 的定义方法， <code>10px 10px 30px 20px</code>  表示 top、right、bottom 和 left 的值</p>\n<h4 id=\"callback\"><a class=\"markdownIt-Anchor\" href=\"#callback\">#</a> callback</h4>\n<p>callback 函数会触发两次，元素进入视窗（开始可见时）和元素离开视窗（开始不可见时）都会触发</p>\n<p>callback 函数有个 <code>entries</code>  参数，它是个 <code>IntersectionObserverEntry</code>  对象数组</p>\n<p>每个对象有这些参数</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">boundingClientRect  目标元素的矩形信息</span><br><span class=\"line\"> intersectionRatio   相交区域和目标元素的比例值   intersectionRect/boundingClientRect 不可见时小于等于0</span><br><span class=\"line\"> intersectionRect    目标元素和视窗（根）相交的矩形信息 可以称为相交区域</span><br><span class=\"line\"> isIntersecting      目标元素当前是否可见 Boolean值 可见为true</span><br><span class=\"line\"> rootBounds              根元素的矩形信息，没有指定根元素就是当前视窗的矩形信息</span><br><span class=\"line\"> target                      观察的目标元素</span><br><span class=\"line\"> time                返回一个记录从`IntersectionObserver`的时间到交叉被触发的时间的时间戳</span><br></pre></td></tr></table></figure>\n<h2 id=\"代码实现\"><a class=\"markdownIt-Anchor\" href=\"#代码实现\">#</a> 代码实现</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; useEffect, useRef &#125; from &quot;react&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">const Lazy = (&#123;src,alt&#125;)=&gt;&#123;</span><br><span class=\"line\">  const imgref = useRef()</span><br><span class=\"line\">  const io = new IntersectionObserver((entries)=&gt;&#123;</span><br><span class=\"line\">    entries.forEach(item=&gt;&#123;</span><br><span class=\"line\">      console.log(item);</span><br><span class=\"line\">      if(item.isIntersecting) &#123;</span><br><span class=\"line\">        item.target.src = item.target.dataset.src</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;, &#123;</span><br><span class=\"line\">    root: null,</span><br><span class=\"line\">    threshold: 0</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  useEffect(()=&gt;&#123;</span><br><span class=\"line\">    io.observe(imgref.current)</span><br><span class=\"line\">  &#125;,[])</span><br><span class=\"line\">  return &lt;img src=&quot;&quot; data-src=&#123;src&#125; alt=&#123;alt&#125; ref=&#123;imgref&#125; /&gt;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">export default Lazy</span><br></pre></td></tr></table></figure>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/%E4%BD%BF%E5%86%85%E5%AE%B9%E6%BB%9A%E5%8A%A8%E5%88%B0%E7%9B%92%E5%AD%90%E5%BA%95%E9%83%A8/",
            "url": "http://example.com/2023/05/04/Javascript/%E4%BD%BF%E5%86%85%E5%AE%B9%E6%BB%9A%E5%8A%A8%E5%88%B0%E7%9B%92%E5%AD%90%E5%BA%95%E9%83%A8/",
            "title": "使内容滚动到盒子底部",
            "date_published": "2023-05-04T12:49:24.265Z",
            "content_html": "<p>通常用于评论之类的部分，出现新内容后自动滚动到盒子的底部，优化用户体验</p>\n<h2 id=\"react中使用ref获取元素对象并修改\"><a class=\"markdownIt-Anchor\" href=\"#react中使用ref获取元素对象并修改\">#</a> React 中使用 Ref 获取元素对象并修改</h2>\n<p>在这里我们会用到 scrollIntoView () 这个方法</p>\n<h3 id=\"scrollintoview\"><a class=\"markdownIt-Anchor\" href=\"#scrollintoview\">#</a> scrollIntoView()</h3>\n<h4 id=\"语法\"><a class=\"markdownIt-Anchor\" href=\"#语法\">#</a> 语法</h4>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">element.scrollIntoView(); // 等同于 element.scrollIntoView(true)</span><br><span class=\"line\">element.scrollIntoView(alignToTop); // Boolean 型参数</span><br><span class=\"line\">element.scrollIntoView(scrollIntoViewOptions); // Object 型参数 ，有兼容性问题，只有google和火狐完美支持</span><br></pre></td></tr></table></figure>\n<h4 id=\"参数\"><a class=\"markdownIt-Anchor\" href=\"#参数\">#</a> 参数</h4>\n<p><code>alignToTop</code>  可选</p>\n<p>一个<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"> <code>Boolean</code> </a> 值：</p>\n<ul>\n<li>如果为 <code>true</code> ，元素的顶端将和其所在滚动区的可视区域的顶端对齐。相应的  <code>scrollIntoViewOptions: &#123;block: &quot;start&quot;, inline: &quot;nearest&quot;&#125;</code> 。这是这个参数的默认值。</li>\n<li>如果为 <code>false</code> ，元素的底端将和其所在滚动区的可视区域的底端对齐。相应的 <code>scrollIntoViewOptions: &#123;block: &quot;end&quot;, inline: &quot;nearest&quot;&#125;</code> 。</li>\n</ul>\n<p><code>scrollIntoViewOptions</code>  可选 实验性</p>\n<p>一个包含下列属性的对象：</p>\n<ul>\n<li>\n<p><code>behavior</code>  可选</p>\n<p>定义动画过渡效果，  <code>&quot;auto&quot;</code>  或  <code>&quot;smooth&quot;</code>  之一。默认为  <code>&quot;auto&quot;</code> 。</p>\n</li>\n<li>\n<p><code>block</code>  可选</p>\n<p>定义垂直方向的对齐，  <code>&quot;start&quot;</code> ,  <code>&quot;center&quot;</code> ,  <code>&quot;end&quot;</code> , 或  <code>&quot;nearest&quot;</code>  之一。默认为  <code>&quot;start&quot;</code> 。</p>\n</li>\n<li>\n<p><code>inline</code>  可选</p>\n<p>定义水平方向的对齐，  <code>&quot;start&quot;</code> ,  <code>&quot;center&quot;</code> ,  <code>&quot;end&quot;</code> , 或  <code>&quot;nearest&quot;</code>  之一。默认为  <code>&quot;nearest&quot;</code> 。</p>\n</li>\n</ul>\n<h3 id=\"实现\"><a class=\"markdownIt-Anchor\" href=\"#实现\">#</a> 实现</h3>\n<p>​\t给子元素设置 scrollIntoView ()，将会滚动它的父元素直到它可视</p>\n<h3 id=\"兼容性\"><a class=\"markdownIt-Anchor\" href=\"#兼容性\">#</a> 兼容性</h3>\n<h2 id=\"参考文献\"><a class=\"markdownIt-Anchor\" href=\"#参考文献\">#</a> 参考文献</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvQVBJL0VsZW1lbnQvc2Nyb2xsSW50b1ZpZXc=\">MDN 文档</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82OTkyMTQzNzYxNjAxOTg2NTc0\">掘金</span></p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/05/04/Javascript/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%AE%9E%E7%8E%B0websocket%E9%80%9A%E4%BF%A1/",
            "url": "http://example.com/2023/05/04/Javascript/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%AE%9E%E7%8E%B0websocket%E9%80%9A%E4%BF%A1/",
            "title": "前后端实现websocket通信",
            "date_published": "2023-05-04T12:49:24.260Z",
            "content_html": "<h2 id=\"后端nodejshttp原生\"><a class=\"markdownIt-Anchor\" href=\"#后端nodejshttp原生\">#</a> 后端 nodeJS (http 原生)</h2>\n<h3 id=\"安装ws\"><a class=\"markdownIt-Anchor\" href=\"#安装ws\">#</a> 安装 ws</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i ws</span><br></pre></td></tr></table></figure>\n<h3 id=\"所需知识\"><a class=\"markdownIt-Anchor\" href=\"#所需知识\">#</a> 所需知识</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocket</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;ws&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocketServer</span> = <span class=\"title class_\">WebSocket</span>.<span class=\"property\">Server</span>;</span><br><span class=\"line\"><span class=\"comment\">// 创建 WebSocket 服务器 监听在 8080 端口</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> wss = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocketServer</span>(&#123; <span class=\"attr\">port</span>: <span class=\"number\">8080</span> &#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"wssclients\"><a class=\"markdownIt-Anchor\" href=\"#wssclients\">#</a> wss.clients</h3>\n<p>wss.clients 方法中存储所有的连入对象，保存为一个数组，通过它可以遍历所有连入的客户端发送消息</p>\n<h3 id=\"wssonconnectioncallbackws\"><a class=\"markdownIt-Anchor\" href=\"#wssonconnectioncallbackws\">#</a> wss.on(‘connection’,callback(ws))</h3>\n<p>有客户端连接时会调用，ws 为连接进来的客户端对象</p>\n<h3 id=\"wsonmessagecallbackmessage\"><a class=\"markdownIt-Anchor\" href=\"#wsonmessagecallbackmessage\">#</a> ws.on(‘message’,callback(message))</h3>\n<p>接受到客户端 / 服务端消息时调用，message 为信息</p>\n<h3 id=\"wssendmessagecallbackerr\"><a class=\"markdownIt-Anchor\" href=\"#wssendmessagecallbackerr\">#</a> ws.send(message,callback(err))</h3>\n<p>给客户端或服务器端返回消息</p>\n<h3 id=\"具体代码\"><a class=\"markdownIt-Anchor\" href=\"#具体代码\">#</a> 具体代码</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocket</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;ws&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocketServer</span> = <span class=\"title class_\">WebSocket</span>.<span class=\"property\">Server</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 创建 WebSocket 服务器 监听在 8080 端口</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> wss = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocketServer</span>(&#123; <span class=\"attr\">port</span>: <span class=\"number\">8080</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//如果有WebSocket请求接入，wss对象可以响应connection事件来处理这个WebSocket：</span></span><br><span class=\"line\">wss.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;connection&#x27;</span>, <span class=\"function\">(<span class=\"params\">ws,req</span>) =&gt;</span> &#123;</span><br><span class=\"line\"><span class=\"comment\">// 在connection事件中，回调函数会传入一个WebSocket的实例，表示这个WebSocket连接</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> ip = req.<span class=\"property\">socket</span>.<span class=\"property\">remoteAddress</span>;<span class=\"comment\">//客户端访问ip</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;连接了&#x27;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 接收客户端信息并把信息返回发送</span></span><br><span class=\"line\">  ws.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"function\">(<span class=\"params\">message</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(message);</span><br><span class=\"line\">    <span class=\"comment\">// send 方法的第二个参数是一个错误回调函数</span></span><br><span class=\"line\">    wss.<span class=\"property\">clients</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">      item.<span class=\"title function_\">send</span>(message.<span class=\"title function_\">toString</span>(), <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (err) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`[SERVER] error: <span class=\"subst\">$&#123;err&#125;</span>`</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"comment\">// ws.send(message.toString(), (err) =&gt; &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   if (err) &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     console.log(`[SERVER] error: $&#123;err&#125;`);</span></span><br><span class=\"line\">    <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;)</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"前端react\"><a class=\"markdownIt-Anchor\" href=\"#前端react\">#</a> 前端 react</h2>\n<p>都用的 ws 模块，跟后端实现差不多</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; useEffect, useState &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">App</span> () &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [data, setData] = <span class=\"title function_\">useState</span>([]);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [anew, setAnew] = <span class=\"title function_\">useState</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> ws = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>(<span class=\"string\">&#x27;ws://127.0.0.1:8080&#x27;</span>)</span><br><span class=\"line\">  <span class=\"title function_\">useEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    ws.<span class=\"property\">onopen</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ws.<span class=\"property\">onmessage</span> = <span class=\"function\">(<span class=\"params\">mes</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(mes);</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data);</span><br><span class=\"line\">      <span class=\"keyword\">let</span> newdata = [</span><br><span class=\"line\">        ...data,</span><br><span class=\"line\">        mes.<span class=\"property\">data</span></span><br><span class=\"line\">      ]</span><br><span class=\"line\">      data.<span class=\"title function_\">push</span>(mes.<span class=\"property\">data</span>)</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newdata);</span><br><span class=\"line\">      <span class=\"title function_\">setData</span>(newdata)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;, []);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">click</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">    ws.<span class=\"title function_\">send</span>(anew)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">change</span> = (<span class=\"params\">e</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> n = e.<span class=\"property\">target</span>.<span class=\"property\">value</span></span><br><span class=\"line\">    <span class=\"title function_\">setAnew</span>(n)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    &#123;data.map(it =&gt; <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;it&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>)&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&#123;anew&#125;</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&#123;change&#125;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;click&#125;</span>&gt;</span>发送<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">App</span>;</span><br></pre></td></tr></table></figure>\n",
            "tags": []
        }
    ]
}